<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motorized Maze - Yiqing Zhi</title>
    <link rel="icon" type="image/x-icon" href="Images/favicon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #000000;
            position: relative;
            overflow-x: hidden;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Enhanced Galaxy Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at 15% 25%, rgba(75, 0, 130, 0.5) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 75%, rgba(138, 43, 226, 0.4) 0%, transparent 45%),
                radial-gradient(ellipse at 50% 50%, rgba(25, 25, 112, 0.6) 0%, transparent 70%),
                radial-gradient(ellipse at 70% 30%, rgba(72, 61, 139, 0.3) 0%, transparent 60%),
                linear-gradient(180deg, #000000 0%, #0d0221 30%, #1a0b3d 60%, #2d1b69 100%);
            animation: galaxyRotate 60s linear infinite;
        }

        @keyframes galaxyRotate {
            0% { background-position: 0% 0%, 100% 100%, 50% 50%, 70% 30%, 0% 0%; }
            100% { background-position: 100% 100%, 0% 0%, 60% 40%, 30% 70%, 0% 0%; }
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, 
                rgba(102, 126, 234, 0.3) 0%,
                rgba(118, 75, 162, 0.3) 50%,
                rgba(240, 147, 251, 0.3) 100%);
            z-index: 1000;
            pointer-events: none;
            overflow: visible;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #4facfe 75%,
                #00f2fe 100%);
            background-size: 200% 100%;
            width: 0%;
            transition: width 0.1s ease-out;
            box-shadow: 
                0 0 20px rgba(102, 126, 234, 0.8),
                0 0 40px rgba(118, 75, 162, 0.6);
            animation: progressGlow 3s ease-in-out infinite;
            position: relative;
        }

        .progress-car {
            position: absolute;
            bottom: -12px;
            right: -15px;
            font-size: 2rem;
            filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.9))
                    drop-shadow(0 0 25px rgba(240, 147, 251, 0.7));
            animation: carBounceProgress 0.5s ease-in-out infinite;
            transform-origin: center;
        }

        @keyframes carBounceProgress {
            0%, 100% {
                transform: translateY(0) rotate(-5deg);
            }
            50% {
                transform: translateY(-3px) rotate(5deg);
            }
        }

        @keyframes progressGlow {
            0%, 100% {
                background-position: 0% 50%;
                box-shadow: 
                    0 0 20px rgba(102, 126, 234, 0.8),
                    0 0 40px rgba(118, 75, 162, 0.6);
            }
            50% {
                background-position: 100% 50%;
                box-shadow: 
                    0 0 30px rgba(102, 126, 234, 1),
                    0 0 60px rgba(118, 75, 162, 0.8);
            }
        }

        /* Navigation */
        nav {
            background: linear-gradient(180deg, 
                rgba(10, 14, 35, 0.98) 0%,
                rgba(15, 20, 45, 0.95) 100%);
            backdrop-filter: blur(15px);
            padding: 1rem 2rem;
            box-shadow: 
                0 4px 30px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(102, 126, 234, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(102, 126, 234, 0.4);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            height: 40px;
            width: auto;
            border-radius: 10px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 4px 15px rgba(102, 126, 234, 0.5));
            cursor: pointer;
        }

        .nav-logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 6px 25px rgba(102, 126, 234, 0.8));
        }

        .back-btn {
            padding: 0.7rem 1.8rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border: 2px solid rgba(102, 126, 234, 0.5);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .back-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.5s ease, height 0.5s ease;
        }

        .back-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
            color: white;
        }

        .back-btn span {
            position: relative;
            z-index: 1;
        }

        /* Hero Section with Video */
        .project-hero {
            position: relative;
            height: 65vh;
            min-height: 550px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 4rem;
            border-radius: 0 0 20px 20px;
        }

        /* Hero Image Container */
        .hero-image-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        /* Hero Image with Ken Burns Animation */
        .hero-image-animated {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.4);
            animation: kenBurnsZoom 20s ease-in-out infinite alternate;
            transform-origin: center center;
        }

        /* Ken Burns Zoom & Pan Animation */
        @keyframes kenBurnsZoom {
            0% {
                transform: scale(1) translate(0, 0);
                filter: brightness(0.4);
            }
            100% {
                transform: scale(1.15) translate(-3%, -2%);
                filter: brightness(0.45);
            }
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                rgba(102, 126, 234, 0.3) 0%,
                transparent 50%,
                rgba(118, 75, 162, 0.3) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            max-width: 900px;
            padding: 2rem;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 
                0 0 30px rgba(0, 0, 0, 0.9),
                0 4px 10px rgba(0, 0, 0, 0.8),
                0 0 60px rgba(102, 126, 234, 0.6);
            letter-spacing: 2px;
            font-weight: 700;
        }

        .hero-content .subtitle {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
            line-height: 1.6;
        }

        /* Corner Decorations */
        .carousel-corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 3px solid #667eea;
            z-index: 10;
            pointer-events: none;
        }

        .corner-tl {
            top: 15px;
            left: 15px;
            border-right: none;
            border-bottom: none;
            box-shadow: -2px -2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-tr {
            top: 15px;
            right: 15px;
            border-left: none;
            border-bottom: none;
            box-shadow: 2px -2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-bl {
            bottom: 15px;
            left: 15px;
            border-right: none;
            border-top: none;
            box-shadow: -2px 2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-br {
            bottom: 15px;
            right: 15px;
            border-left: none;
            border-top: none;
            box-shadow: 2px 2px 20px rgba(102, 126, 234, 0.6);
        }

        /* Side Info Cards */
        .side-info-cards {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 3;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .side-info-cards.left {
            left: 30px;
        }

        .side-info-cards.right {
            right: 30px;
        }

        .info-card {
            background: rgba(10, 14, 35, 0.85);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(102, 126, 234, 0.4);
            border-radius: 15px;
            padding: 1.2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 200px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: all 0.4s ease;
            opacity: 0;
            animation: slideInCard 0.8s ease forwards;
        }

        @keyframes slideInCard {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .side-info-cards.right .info-card {
            animation: slideInCardRight 0.8s ease forwards;
        }

        @keyframes slideInCardRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .info-card:hover {
            transform: translateX(10px);
            border-color: rgba(102, 126, 234, 0.8);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.5);
        }

        .side-info-cards.right .info-card:hover {
            transform: translateX(-10px);
        }

        .info-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.6));
            flex-shrink: 0;
        }

        .info-text h4 {
            color: #667eea;
            font-size: 0.95rem;
            margin: 0 0 0.3rem 0;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .info-text p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.85rem;
            margin: 0;
            font-weight: 600;
        }

        /* Content Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem 4rem;
        }

        .content-section {
            background: rgba(10, 14, 35, 0.95);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.3),
                0 0 60px rgba(102, 126, 234, 0.2);
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #667eea 75%, 
                #764ba2 100%);
            background-size: 300% 300%;
            border-radius: 15px;
            z-index: -1;
            animation: borderGlow 6s linear infinite;
            opacity: 0.3;
        }

        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .section-title {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 2rem;
            text-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-content {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .section-content p {
            margin-bottom: 1.5rem;
        }

        .section-content h3 {
            color: #f093fb;
            font-size: 1.8rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 15px rgba(240, 147, 251, 0.5);
        }

        .section-content ul {
            list-style: none;
            padding-left: 0;
            margin: 1.5rem 0;
        }

        .section-content ul li {
            position: relative;
            padding-left: 2rem;
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.85);
            transition: all 0.3s ease;
        }

        .section-content ul li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: #667eea;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.8);
        }

        .section-content ul li:hover {
            padding-left: 2.5rem;
            color: rgba(255, 255, 255, 1);
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: rgba(102, 126, 234, 0.1);
            backdrop-filter: blur(10px);
            padding: 2.5rem;
            border-radius: 15px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            transition: all 0.4s ease;
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: rgba(102, 126, 234, 0.8);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
            background: rgba(102, 126, 234, 0.15);
        }

        .feature-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: white !important;
            margin: 0 0 1rem 0 !important;
            font-size: 1.3rem !important;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5) !important;
        }

        .feature-card p {
            color: rgba(255, 255, 255, 0.85) !important;
            margin: 0 !important;
            font-size: 0.95rem;
        }

        /* Specifications Table */
        .specs-table {
            width: 100%;
            margin: 2rem 0;
            border-collapse: collapse;
        }

        .specs-table thead tr {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .specs-table th {
            padding: 1.2rem;
            text-align: left;
            color: white;
            font-weight: 600;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .specs-table td {
            padding: 1rem;
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .specs-table tbody tr {
            transition: all 0.3s ease;
        }

        .specs-table tbody tr:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.01);
        }

        /* ========================================
        3D ROTATING CAROUSEL GALLERY
        ======================================== */

        .carousel-container {
            position: relative;
            width: 100%;
            height: 600px;
            margin: 3rem 0;
            perspective: 2000px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-track {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-slide {
            position: absolute;
            width: 500px;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            border: 3px solid rgba(102, 126, 234, 0.5);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            background: rgba(10, 14, 35, 0.9);
        }

        /* Center slide - active */
        .carousel-slide.active {
            z-index: 10;
            transform: translateX(0) scale(1) rotateY(0deg);
            opacity: 1;
            filter: brightness(1) blur(0);
            border-color: rgba(102, 126, 234, 1);
            box-shadow: 
                0 30px 80px rgba(102, 126, 234, 0.6),
                0 0 60px rgba(102, 126, 234, 0.4);
        }

        /* Left slide - behind */
        .carousel-slide.left {
            z-index: 5;
            transform: translateX(-65%) scale(0.75) rotateY(25deg);
            opacity: 0.4;
            filter: brightness(0.6) blur(3px);
        }

        /* Right slide - behind */
        .carousel-slide.right {
            z-index: 5;
            transform: translateX(65%) scale(0.75) rotateY(-25deg);
            opacity: 0.4;
            filter: brightness(0.6) blur(3px);
        }

        /* Hidden slides */
        .carousel-slide.hidden {
            z-index: 1;
            transform: translateX(0) scale(0.5);
            opacity: 0;
            pointer-events: none;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .carousel-slide.active img {
            object-fit: cover;
        }

        .carousel-slide:hover.active img {
            transform: scale(1.05);
        }

        /* Control System Slide - Zoom Out for Better Visibility */
        .control-system-slide img {
            object-fit: contain !important;
        }

        .control-system-slide:hover.active img {
            transform: scale(1.02);
        }

        /* Caption - only show on active slide */
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem;
            background: linear-gradient(to top,
                rgba(10, 14, 35, 0.98) 0%,
                rgba(10, 14, 35, 0.95) 70%,
                transparent 100%);
            backdrop-filter: blur(10px);
            color: white;
            transform: translateY(100%);
            transition: transform 0.5s ease;
            z-index: 20;
        }

        .carousel-slide.active:hover .carousel-caption {
            transform: translateY(0);
        }

        .carousel-caption h4 {
            font-size: 1.3rem;
            color: #667eea;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.8);
        }

        .carousel-caption p {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            margin: 0;
        }

        .carousel-caption .short-desc {
            display: block;
        }

        .carousel-caption .long-desc {
            display: none;
        }

        .carousel-caption.expanded .short-desc {
            display: none;
        }

        .carousel-caption.expanded .long-desc {
            display: block;
        }

        .caption-expand-btn {
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.3rem 0.8rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .caption-expand-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.6);
        }

        .carousel-caption.expanded .caption-expand-btn {
            background: linear-gradient(135deg, #f093fb 0%, #667eea 100%);
        }

        /* Carousel Controls */
        .carousel-controls {
            position: absolute;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 2rem;
            z-index: 15;
        }

        .carousel-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        .carousel-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.8);
        }

        .carousel-btn:active {
            transform: scale(0.95);
        }

        .carousel-dots {
            display: flex;
            gap: 0.8rem;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(102, 126, 234, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.9);
            transform: scale(1.3);
        }

        .carousel-dot:hover {
            background: rgba(102, 126, 234, 0.6);
            transform: scale(1.2);
        }

        .carousel-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 25;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        /* Mobile Responsive Carousel */
        @media (max-width: 768px) {
            .carousel-container {
                height: 450px;
            }
            
            .carousel-slide {
                width: 320px;
                height: 280px;
            }
            
            .carousel-slide.left,
            .carousel-slide.right {
                transform: translateX(0) scale(0.6);
                opacity: 0.2;
                filter: brightness(0.4) blur(5px);
            }
            
            .carousel-slide.left {
                transform: translateX(-85%) scale(0.6);
            }
            
            .carousel-slide.right {
                transform: translateX(85%) scale(0.6);
            }
            
            .carousel-controls {
                bottom: -70px;
            }
            
            .carousel-btn {
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
            }

            /* Make gallery caption text smaller on mobile */
            .carousel-caption h4 {
                font-size: 1rem;
                margin-bottom: 0.3rem;
            }

            .carousel-caption p {
                font-size: 0.8rem;
                line-height: 1.4;
            }

            .caption-expand-btn {
                padding: 0.25rem 0.6rem;
                font-size: 0.7rem;
                margin-top: 0.4rem;
            }

            .carousel-swipe-hint {
                display: block !important; /* Show on mobile */
                margin-top: 0rem;
            }
            /* Disable hover reveal/zoom on mobile to avoid sticky states */
            .carousel-slide.active:hover .carousel-caption {
                transform: translateY(100%);
            }
            .carousel-slide.active:hover img {
                transform: none;
            }
            /* On mobile, show caption only when explicitly activated */
            .carousel-slide.mobile-caption-active .carousel-caption {
                transform: translateY(0);
            }
        }

        /* Swipe hint - HIDDEN on desktop by default */
        .carousel-swipe-hint {
            display: none;
            text-align: center;
            margin: 1rem auto 0; /* More top margin to clear carousel controls */
            padding: 1rem 1.5rem;
            background: rgba(102, 126, 234, 0.15);
            border: 2px solid rgba(102, 126, 234, 0.4);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            max-width: 400px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        .carousel-swipe-hint p {
            margin: 0;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* ========================================
        ENGINEERING JOURNEY TIMELINE DESIGN
        ======================================== */

        .journey-timeline {
            position: relative;
            padding: 2rem 0;
            margin: 2rem 0;
        }

        /* Vertical connecting line */
        .journey-timeline::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg,
                rgba(102, 126, 234, 0.3) 0%,
                rgba(102, 126, 234, 0.8) 50%,
                rgba(102, 126, 234, 0.3) 100%);
            border-radius: 2px;
        }

        .journey-phase {
            display: flex;
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
            align-items: flex-start;
        }

        .journey-phase:last-child {
            margin-bottom: 0;
        }

        /* Phase Marker (Number + Icon) */
        .phase-marker {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .phase-number {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            border: none; 
            box-shadow: 
                0 8px 32px rgba(102, 126, 234, 0.6),
                inset 0 2px 8px rgba(255, 255, 255, 0.2);
            transition: all 0.4s ease;
        }

        .phase-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 4px 15px rgba(102, 126, 234, 0.6));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .journey-phase:hover .phase-number {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 
                0 12px 40px rgba(102, 126, 234, 0.8),
                inset 0 2px 8px rgba(255, 255, 255, 0.3);
        }

        /* Phase Content */
        .phase-content {
            flex: 1;
            background: rgba(102, 126, 234, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .phase-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg,
                #667eea 0%,
                #764ba2 50%,
                #f093fb 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .phase-content:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.6);
            transform: translateX(10px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
        }

        .phase-content:hover::before {
            opacity: 1;
        }

        .phase-title {
            font-size: 1.8rem;
            color: #667eea;
            margin: 0 0 1.5rem 0;
            text-shadow: 0 0 15px rgba(102, 126, 234, 0.5);
        }

        /* Skill Tags */
        .phase-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }

        .skill-tag {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.3) 0%, 
                rgba(118, 75, 162, 0.3) 100%);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .skill-tag:hover {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.5) 0%, 
                rgba(118, 75, 162, 0.5) 100%);
            border-color: rgba(102, 126, 234, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Phase Insight */
        .phase-insight {
            background: rgba(240, 147, 251, 0.08);
            border-left: 4px solid #f093fb;
            padding: 1.2rem;
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
        }

        .phase-insight strong {
            color: #f093fb;
            text-shadow: 0 0 10px rgba(240, 147, 251, 0.5);
            font-size: 1.05rem;
        }

        /* Footer */
        footer {
            background: rgba(10, 14, 35, 0.95);
            backdrop-filter: blur(15px);
            border-top: 3px solid rgba(102, 126, 234, 0.4);
            color: white;
            text-align: center;
            padding: 3rem 2rem 2rem;
            margin-top: 1rem;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent 0px,
                    rgba(102, 126, 234, 0.1) 50px,
                    transparent 100px
                );
            animation: roadScroll 20s linear infinite;
            opacity: 0.3;
            pointer-events: none;
        }

        @keyframes roadScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(100px); }
        }

        .racing-track-nav {
            max-width: 1400px;
            margin: 0 auto 3rem;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 3rem;
            align-items: center;
            position: relative;
            padding: 2rem 0;
        }

        .track-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg,
                rgba(102, 126, 234, 0.3) 0%,
                rgba(102, 126, 234, 0.8) 50%,
                rgba(102, 126, 234, 0.3) 100%
            );
            transform: translateY(-50%);
            z-index: 0;
        }

        .track-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: repeating-linear-gradient(
                90deg,
                transparent 0px,
                white 10px,
                white 30px,
                transparent 30px,
                transparent 60px
            );
            transform: translateY(-50%);
            animation: dashMove 2s linear infinite;
        }

        @keyframes dashMove {
            0% { background-position: 0 0; }
            100% { background-position: 60px 0; }
        }

        .track-checkpoint {
            background: linear-gradient(135deg,
                rgba(10, 14, 35, 0.95) 0%,
                rgba(20, 25, 50, 0.95) 100%
            );
            border: 3px solid rgba(102, 126, 234, 0.4);
            border-radius: 20px;
            padding: 1.5rem 2rem;
            text-decoration: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.4s ease;
            position: relative;
            z-index: 2;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(102, 126, 234, 0.2);
        }

        .track-checkpoint::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(102, 126, 234, 0.1) 10px,
                rgba(102, 126, 234, 0.1) 20px
            );
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .track-checkpoint:hover::before {
            opacity: 1;
        }

        .track-checkpoint:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(102, 126, 234, 0.9);
            box-shadow: 
                0 15px 45px rgba(102, 126, 234, 0.4),
                0 0 60px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(102, 126, 234, 0.4);
        }

        .checkpoint-left {
            justify-content: flex-start;
        }

        .checkpoint-right {
            justify-content: flex-end;
        }

        .checkpoint-flag {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
            animation: flagWave 2s ease-in-out infinite;
        }

        @keyframes flagWave {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .speed-arrow {
            font-size: 2.5rem;
            color: #667eea;
            text-shadow: 0 0 20px rgba(102, 126, 234, 0.8);
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .track-checkpoint:hover .speed-arrow {
            color: #f093fb;
            text-shadow: 0 0 30px rgba(240, 147, 251, 0.9);
        }

        .checkpoint-left:hover .speed-arrow {
            transform: translateX(-10px);
        }

        .checkpoint-right:hover .speed-arrow {
            transform: translateX(10px);
        }

        .checkpoint-content {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            text-align: left;
        }

        .checkpoint-right .checkpoint-content {
            text-align: right;
        }

        .checkpoint-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
        }

        .checkpoint-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .pit-stop {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 60px;
            padding: 1.5rem 3rem;
            text-decoration: none;
            color: white;
            font-weight: 700;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.4s ease;
            box-shadow: 
                0 10px 40px rgba(102, 126, 234, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 3;
            white-space: nowrap;
        }

        .pit-stop::before {
            content: '';
            position: absolute;
            inset: -3px;
            background: linear-gradient(45deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #4facfe 75%,
                #667eea 100%);
            background-size: 300% 300%;
            border-radius: 60px;
            z-index: -1;
            animation: borderGlow 3s linear infinite;
            filter: blur(8px);
        }

        .pit-stop:hover {
            transform: translateY(-10px) scale(1.08);
            box-shadow: 
                0 20px 60px rgba(102, 126, 234, 0.8),
                0 0 80px rgba(240, 147, 251, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .pit-stop-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .pit-stop-text {
            font-size: 1.1rem;
            letter-spacing: 2px;
        }

        .pit-stop-lights {
            display: flex;
            gap: 0.4rem;
            margin-top: 0.3rem;
        }

        .light {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            animation: lightBlink 1.5s ease-in-out infinite;
        }

        .light:nth-child(1) {
            animation-delay: 0s;
        }

        .light:nth-child(2) {
            animation-delay: 0.5s;
        }

        .light:nth-child(3) {
            animation-delay: 1s;
        }

        @keyframes lightBlink {
            0%, 100% {
                background: rgba(255, 255, 255, 0.3);
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            }
            50% {
                background: rgba(0, 255, 0, 0.9);
                box-shadow: 0 0 15px rgba(0, 255, 0, 0.9);
            }
        }

        .racing-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin: 0 auto 2rem;
            max-width: 600px;
        }

        .divider-line {
            flex: 1;
            height: 3px;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(102, 126, 234, 0.6) 50%,
                transparent 100%
            );
            position: relative;
        }

        .divider-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: repeating-linear-gradient(
                90deg,
                transparent 0px,
                white 5px,
                white 10px,
                transparent 10px,
                transparent 20px
            );
            transform: translateY(-50%);
        }

        .race-finish {
            font-size: 2rem;
            filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.8));
            animation: trophyGlow 2s ease-in-out infinite;
        }

        @keyframes trophyGlow {
            0%, 100% {
                transform: scale(1) rotate(-5deg);
                filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.8));
            }
            50% {
                transform: scale(1.1) rotate(5deg);
                filter: drop-shadow(0 0 25px rgba(102, 126, 234, 1));
            }
        }

        footer p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #f093fb;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .side-info-cards {
                display: none;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .project-hero {
                height: 400px;
                min-height: 400px;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content .subtitle {
                font-size: 1.1rem;
            }

            /* Remove SIDE padding from container */
            .container {
                padding-left: 0 !important;
                padding-right: 0 !important;
            }

            /* Make content sections edge-to-edge */
            .content-section {
                padding: 2rem 1.5rem;
                border-left: none !important;
                border-right: none !important;
            }

            /* Hide animated border on mobile */
            .content-section::before {
                display: none !important;
            }

            .section-title {
                font-size: 2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .specs-table {
                font-size: 0.9rem;
            }

            .specs-table th,
            .specs-table td {
                padding: 0.8rem;
            }

            /* Make gallery caption text smaller on mobile */
            .carousel-caption h4 {
                font-size: 1rem;
                margin-bottom: 0.3rem;
            }

            .carousel-caption p {
                font-size: 0.8rem;
                line-height: 1.4;
            }

            .caption-expand-btn {
                padding: 0.25rem 0.6rem;
                font-size: 0.7rem;
                margin-top: 0.4rem;
            }

            .carousel-swipe-hint {
                display: block !important;
                margin-top: 0rem;
            }

            .racing-track-nav {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                padding: 1.5rem 0;
            }

            .track-line {
                display: none;
            }

            .track-checkpoint {
                padding: 1.2rem 1.5rem;
                gap: 1rem;
                justify-content: center;
            }

            .checkpoint-left,
            .checkpoint-right {
                justify-content: center;
            }

            .checkpoint-content {
                text-align: center !important;
            }

            .checkpoint-flag {
                font-size: 2rem;
            }

            .speed-arrow {
                font-size: 2rem;
            }

            .checkpoint-title {
                font-size: 1rem;
            }

            .checkpoint-label {
                font-size: 0.7rem;
            }

            /* Reorder navigation: Previous -> All Projects -> Next */
            .checkpoint-left {
                order: 1;
            }

            .pit-stop {
                order: 2;
                padding: 1rem 1.5rem;
            }

            .checkpoint-right {
                order: 3;
            }

            .pit-stop-icon {
                font-size: 1.3rem;
            }

            .pit-stop-text {
                font-size: 0.85rem;
            }

            .racing-divider {
                gap: 1rem;
            }

            .race-finish {
                font-size: 1.5rem;
            }
            
            .journey-timeline::before {
                left: 30px;
            }
            
            .journey-phase {
                gap: 1.5rem;
            }
            
            .phase-number {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .phase-icon {
                font-size: 2rem;
            }
            
            .phase-content {
                padding: 1.5rem;
            }
            
            .phase-title {
                font-size: 1.4rem;
            }
            
            .skill-tag {
                font-size: 0.8rem;
                padding: 0.4rem 1rem;
            }
        }
    </style>
</head>
<body>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar">
            <div class="progress-car">üß©</div>
        </div>
    </div>

    <!-- Galaxy Background -->
    <div class="animated-bg"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="cursor: pointer;">
                <img src="Images/favicon.ico" alt="Yiqing Zhi Logo" class="nav-logo">
            </div>
            <a href="index.html#projects" class="back-btn">
                <span>‚Üê Back to Portfolio</span>
            </a>
        </div>
    </nav>

    <!-- Hero Section with Video -->
    <section class="project-hero">
        <div class="carousel-corner corner-tl"></div>
        <div class="carousel-corner corner-tr"></div>
        <div class="carousel-corner corner-bl"></div>
        <div class="carousel-corner corner-br"></div>
        
        <!-- Left Side Info Cards -->
        <div class="side-info-cards left">
            <div class="info-card" style="animation-delay: 0.2s;">
                <div class="info-icon">üìè</div>
                <div class="info-text">
                    <h4>Board Size</h4>
                    <p>300mm √ó 300mm</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.4s;">
                <div class="info-icon">üéØ</div>
                <div class="info-text">
                    <h4>Target Age</h4>
                    <p>8-12 years</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.6s;">
                <div class="info-icon">üîÑ</div>
                <div class="info-text">
                    <h4>Revolving Wall</h4>
                    <p>2-4 cycles/sec</p>
                </div>
            </div>
        </div>

        <!-- Right Side Info Cards -->
        <div class="side-info-cards right">
            <div class="info-card" style="animation-delay: 0.3s;">
                <div class="info-icon">‚öôÔ∏è</div>
                <div class="info-text">
                    <h4>Motors</h4>
                    <p>Stepper + DC</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.5s;">
                <div class="info-icon">‚¨ÜÔ∏è‚¨áÔ∏è</div>
                <div class="info-text">
                    <h4>Vertical Walls</h4>
                    <p>0.5-1 cycle/sec</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.7s;">
                <div class="info-icon">üéµ</div>
                <div class="info-text">
                    <h4>Victory Sound</h4>
                    <p>2-5 dB</p>
                </div>
            </div>
        </div>
        
       <!-- Hero Image with Ken Burns Effect -->
        <div class="hero-image-container">
            <img src="Images/ME100-1.jpeg" 
                alt="Motorized Wooden Maze Complete System" 
                class="hero-image-animated"
                id="hero-image">
        </div>
        
        <!-- Gradient Overlay -->
        <div class="hero-overlay"></div>
        
        <!-- Hero Content -->
        <div class="hero-content">
            <h1>Motorized Wooden Maze</h1>
            <p class="subtitle">A Competitive 2-Player Board Game with Mechanized Moving Walls Inspired by The Maze Runner</p>
        </div>
    </section>

    <!-- Content -->
    <div class="container">
        
        <!-- Project Overview -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üéØ</span>
                Project Overview
            </h2>
            <div class="section-content">
                <p>The Motorized Wooden Maze is a fast-paced 2-player game inspired by The Maze Runner, where rotating and shifting walls constantly reshape the labyrinth as players race to the center. This design project uses a stepper-driven central wall and a DC-motor crank mechanism to move vertical segments, with ultrasonic sensors detecting the winner and triggering sound effects.</p>

                <p>Unlike static or tilt-based mazes, this Arduino-controlled design automates obstacle movement to challenge players' timing and strategy. Its precision-cut wooden construction ensures smooth gameplay and a durable, polished final build.</p>
            </div>
        </div>

        <!-- Project Gallery -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üì∏</span>
                Project Gallery
            </h2>
            <div class="section-content">
                <p>Explore the complete design and development process of the Motorized Maze‚Äîfrom initial concept sketches to final working prototype with various maze configurations.</p>
                
                <h3>üéÆ Mechanical Design & Control System</h3>
                <p>Interactive gallery showcasing the mechanical design, servo integration, electronics, and testing phases.</p>
            </div>
            
            <!-- 3D Rotating Carousel -->
            <div class="carousel-container" id="mazeCarousel">
                <div class="carousel-track">
                    <!-- Slide 1: Complete Maze -->
                    <div class="carousel-slide" data-index="0">
                        <span class="carousel-badge">üèÜ Final Build</span>
                        <img src="Images/ME100-2.png" alt="Complete Motorized Wooden Maze">
                        <div class="carousel-caption">
                            <h4>Complete Motorized Wooden Maze</h4>
                            <p class="short-desc">Fully assembled 2-player board game with motorized rotating and vertical wall mechanisms.</p>
                            <p class="long-desc">This 300√ó300 mm wooden maze combines a stepper-driven rotating center wall, two crank-driven vertical walls, and an ultrasonic win-detection system. Players guide figurines through precision-cut tracks toward a raised central goal supported by 3D-printed bridges. All electronics are enclosed inside the structure with clean cable management, designed for safe and reliable play for ages 8‚Äì12.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 2: Revolving Wall Mechanism -->
                    <div class="carousel-slide" data-index="1">
                        <span class="carousel-badge">üîÑ Rotating Center</span>
                        <img src="Images/Revolving_Wall.png" alt="Stepper Motor Revolving Wall">
                        <div class="carousel-caption">
                            <h4>Revolving Center Wall Mechanism</h4>
                            <p class="short-desc">Stepper motor-driven rotating wall with Arduino speed control.</p>
                            <p class="long-desc">The rotating center wall creates the main gameplay challenge by continuously turning at a controlled speed. A 28BYJ-48 stepper motor with gear reduction provides smooth, predictable motion, controlled by an Arduino Uno and ULN2003 driver. Earlier DC and AC motor designs lacked stability, making the stepper motor the most reliable solution. The mechanism is enclosed for safety and consistent performance.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 3: Vertical Wall Mechanism -->
                    <div class="carousel-slide" data-index="2">
                        <span class="carousel-badge">‚¨ÜÔ∏è‚¨áÔ∏è Piston System</span>
                        <img src="Images/Priston_Moving.png" alt="Crankshaft Vertical Moving Walls">
                        <div class="carousel-caption">
                            <h4>Vertical Moving Wall Mechanism</h4>
                            <p class="short-desc">Crankshaft-inspired piston system driven by DC gearmotor.</p>
                            <p class="long-desc">This mechanism converts rotary motion from a DC gearmotor into vertical movement using a crankshaft-inspired linkage. Two wall segments move alternately‚Äîone rising while the other falls‚Äîusing a single motor to reduce complexity. Added support structures improved stability and prevented binding, resulting in a compact and efficient motion system.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 4: Arduino Control System -->
                    <div class="carousel-slide control-system-slide" data-index="3">
                        <span class="carousel-badge">üéõÔ∏è Electronics</span>
                        <img src="Images/Control_system.png" alt="Arduino and Motor Control Electronics">
                        <div class="carousel-caption">
                            <h4>Arduino Control System & Programming</h4>
                            <p class="short-desc">Dual Arduino setup controlling motors and sensors with custom firmware.</p>
                            <p class="long-desc">Two Arduinos divide system control: an Arduino Uno manages the stepper motor, while an Arduino Mega handles ultrasonic sensors and the buzzer. The software controls motor speed, detects player victory, and triggers audio feedback. Separate power supplies ensure stable operation, and all wiring is documented for clarity and reproducibility.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 5: Wooden Construction -->
                    <div class="carousel-slide" data-index="4">
                        <span class="carousel-badge">ü™µ Materials</span>
                        <img src="Images/Wood_structure.jpeg" alt="Plywood Structure and Tracks">
                        <div class="carousel-caption">
                            <h4>Wooden Structure & Fabrication</h4>
                            <p class="short-desc">Plywood construction with laser-cut precision tracks and sanded finish.</p>
                            <p class="long-desc">The final maze is built from plywood for durability, consistency, and improved aesthetics. Laser-cut tracks ensure uniform movement, while sanding reduces friction for smooth gameplay. The design integrates 3D-printed bridges, hidden wiring channels, and secure motor mounts, balancing safety, durability, and visual appeal.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 6: Ultrasonic Sensors & Victory System -->
                    <div class="carousel-slide" data-index="5">
                        <span class="carousel-badge">üéµ Goal Detection</span>
                        <img src="Images/Sensor_control.png" alt="Ultrasonic Sensors and Buzzer">
                        <div class="carousel-caption">
                            <h4>Goal Detection & Celebration Sound</h4>
                            <p class="short-desc">HC-SR04 ultrasonic sensors trigger active buzzer for victory feedback.</p>
                           <p class="long-desc">HC-SR04 ultrasonic sensors detect when a player reaches the goal by measuring distance to the figurine. Once detected, an Arduino triggers a buzzer to signal victory. The system supports two-player competition and provides clear feedback, with planned improvements for shorter sound duration and visual indicators.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Carousel Controls -->
            <div class="carousel-controls">
                <button class="carousel-btn" onclick="prevSlide('mazeCarousel')">‚ùÆ</button>
                <div class="carousel-dots" id="mazeDots"></div>
                <button class="carousel-btn" onclick="nextSlide('mazeCarousel')">‚ùØ</button>
            </div>

            <!-- ‚ú® Mobile swipe hint -->
            <div class="carousel-swipe-hint">
                <p>üí° Swipe left or right to see more images</p>
            </div>

        </div>

        <!-- My Contributions -->
        <div class="content-section">
            <h2 class="section-title">
                <span>‚ö°</span>
                My Contributions
            </h2>

            <div class="section-content">

                <h3>üîß Mechanical Design & Fabrication</h3>
                <ul>
                    <li>Planned maze layout including track paths, wall placement, and obstacle positioning to balance challenge and playability for ages 8‚Äì12</li>
                    <li>Evaluated material options from cardboard prototypes to final plywood construction, considering durability, cost, and manufacturability</li>
                    <li>Laser-cut and assembled plywood components following CAD dimensions, ensuring smooth figurine movement and precise fit</li>
                    <li>Integrated 3D-printed bridge structures to support the elevated goal area above the rotating center wall</li>
                </ul>

                <h3>üíª Electronics & Programming</h3>
                <ul>
                    <li>Wired Arduino boards, stepper motor drivers, motors, ultrasonic sensors, and buzzer following circuit schematics</li>
                    <li>Configured and tested stepper motor control logic, verifying correct pin assignments, step counts, and rotation speeds</li>
                    <li>Programmed ultrasonic sensor distance detection and buzzer activation logic for reliable goal detection</li>
                    <li>Debugged firmware issues related to timing, sensor accuracy, and motor responsiveness through iterative testing</li>
                </ul>

                <h3>üî¨ Testing, Validation & Team Coordination</h3>
                <ul>
                    <li>Conducted friction testing on maze tracks and refined sanding process to achieve smooth, consistent movement</li>
                    <li>Calibrated motor speeds and verified system performance met design specifications through repeated trials</li>
                    <li>Participated in gameplay testing sessions with users, collecting feedback on difficulty, engagement, and usability</li>
                    <li>Contributed to documentation, component tracking, and team coordination throughout design iterations</li>
                </ul>

            </div>
        </div>

        <!-- Design Journey -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üí°</span>
                Design Journey
            </h2>

            <div class="section-content">
                <p style="text-align: center; font-size: 1.2rem; margin-bottom: 3rem; color: rgba(255, 255, 255, 0.9);">
                </p>
            </div>

            <div class="journey-timeline">

                <!-- Phase 1 -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">01</div>
                        <div class="phase-icon">üé¨</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Concept Development & Requirements</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Inspiration</span>
                            <span class="skill-tag">Target Users</span>
                            <span class="skill-tag">Constraints</span>
                            <span class="skill-tag">Function Prioritization</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> Inspired by *The Maze Runner*, the team designed a competitive 2-player maze with dynamically moving walls. Requirements were defined around safety and engagement for ages 8‚Äì12, prioritizing the revolving wall, vertical obstacles, and goal detection while setting measurable constraints for friction, speed, sound, and safety.
                        </p>
                    </div>
                </div>

                <!-- Phase 2 -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">02</div>
                        <div class="phase-icon">‚öôÔ∏è</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Motor Selection & Mechanism Design</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Motor Evaluation</span>
                            <span class="skill-tag">Stepper Control</span>
                            <span class="skill-tag">Crank Mechanisms</span>
                            <span class="skill-tag">Design Iteration</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> AC and DC motors lacked the precision needed for fair gameplay, leading to adoption of a stepper motor for the revolving wall. Vertical walls used a crankshaft mechanism driven by a single DC motor, converting rotation into linear motion while minimizing complexity and cost.
                        </p>
                    </div>
                </div>

                <!-- Phase 3 -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">03</div>
                        <div class="phase-icon">ü™µ</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Material Transition & Fabrication</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Prototyping</span>
                            <span class="skill-tag">Laser Cutting</span>
                            <span class="skill-tag">Plywood Build</span>
                            <span class="skill-tag">Friction Control</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> Cardboard enabled fast prototyping but lacked durability, prompting a transition to laser-cut plywood. Precision cutting ensured consistent gameplay, while extensive sanding reduced friction. Structural issues were solved using 3D-printed bridge supports, combining subtractive and additive manufacturing.
                        </p>
                    </div>
                </div>

                <!-- Phase 4 -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">04</div>
                        <div class="phase-icon">üíª</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Electronics Integration & Programming</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Arduino</span>
                            <span class="skill-tag">Stepper Control</span>
                            <span class="skill-tag">Ultrasonic Sensors</span>
                            <span class="skill-tag">Circuit Design</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> A dual-Arduino setup separated motor control from sensing and sound, simplifying debugging. Stepper motor code enabled precise speed control, while ultrasonic sensors reliably detected goal completion. Power isolation and insulation ensured stable operation and child safety.
                        </p>
                    </div>
                </div>
            </div>
        </div>
     </div>


    <!-- Footer with F1 Racing Road Guide Navigation -->
    <footer>
        <!-- F1 Racing Track Navigation -->
        <div class="racing-track-nav">
            <!-- Racing Track Line -->
            <div class="track-line"></div>
            
            <!-- Previous Project Checkpoint -->
            <a href="Project-circadian_rhythm_device.html" class="track-checkpoint checkpoint-left">
                <div class="checkpoint-flag">‚è∞</div>
                <div class="checkpoint-content">
                    <span class="checkpoint-label">PREVIOUS PROJECT</span>
                    <span class="checkpoint-title">Circadian Rhythm Regulating Device</span>
                </div>
                <div class="speed-arrow">‚Üê</div>
            </a>
            
            <!-- Pit Stop (All Projects) -->
            <a href="index.html#projects" class="pit-stop">
                <div class="pit-stop-icon">üß©</div>
                <span class="pit-stop-text">ALL PROJECTS</span>
                <div class="pit-stop-lights">
                    <span class="light"></span>
                    <span class="light"></span>
                    <span class="light"></span>
                </div>
            </a>
            
            <!-- Next Project Checkpoint -->
            <a href="Project-ping_ris_wheel.html" class="track-checkpoint checkpoint-right">
                <div class="speed-arrow">‚Üí</div>
                <div class="checkpoint-content">
                    <span class="checkpoint-label">NEXT PROJECT</span>
                    <span class="checkpoint-title">Ping-ris Wheel</span>
                </div>
                <div class="checkpoint-flag">üé°</div>
            </a>
        </div>

        <!-- Racing Divider -->
        <div class="racing-divider">
            <div class="divider-line"></div>
            <span class="race-finish">üß©</span>
            <div class="divider-line"></div>
        </div>

        <!-- Copyright Info -->
        <p style="font-size: 0.95rem; letter-spacing: 1px;">Copyright ¬© 2025 Yiqing Zhi</p>
    </footer>

    <script>
        // Progress Bar Update on Scroll
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Hero image error handling
        const heroImage = document.getElementById('hero-image');
        if (heroImage) {
            heroImage.addEventListener('error', function() {
                console.log('Hero image failed to load');
                // Fallback to a solid background
                this.closest('.hero-image-container').style.background = 
                    'linear-gradient(135deg, rgba(102, 126, 234, 0.4) 0%, rgba(118, 75, 162, 0.4) 100%)';
                this.style.display = 'none';
            });
        }

        // Add fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeIn 0.6s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });

        // ========================================
        // 3D CAROUSEL SYSTEM
        // ========================================
        
        const carousels = {
            mazeCarousel: { currentIndex: 0, totalSlides: 6 },
        };

        // Helper: close all mobile captions and collapse expanded states
        function closeMobileCaptions() {
            // Hide mobile captions
            document.querySelectorAll('.carousel-slide.mobile-caption-active').forEach(slide => {
                slide.classList.remove('mobile-caption-active');
            });
            // Collapse any expanded caption content
            document.querySelectorAll('.carousel-caption.expanded').forEach(cap => {
                cap.classList.remove('expanded');
                const btn = cap.querySelector('.caption-expand-btn');
                if (btn) btn.textContent = 'üìñ Read More';
            });
        }

        // AUTO-ROTATION SETTINGS
        let autoRotateTimer = null;
        const AUTO_ROTATE_DELAY = 5000;
        let isUserInteracting = false;
        let isMouseOverCarousel = false;

        function scheduleNextAutoRotate(carouselId) {
            if (autoRotateTimer) {
                clearTimeout(autoRotateTimer);
                autoRotateTimer = null;
            }

            autoRotateTimer = setTimeout(() => {
                if (!isUserInteracting && !isMouseOverCarousel) {
                    nextSlide(carouselId);
                }
                scheduleNextAutoRotate(carouselId);
            }, AUTO_ROTATE_DELAY);
        }

        function startAutoRotate(carouselId) {
            stopAutoRotate();
            scheduleNextAutoRotate(carouselId);
        }

        function stopAutoRotate() {
            if (autoRotateTimer) {
                clearTimeout(autoRotateTimer);
                autoRotateTimer = null;
            }
        }

        function pauseAutoRotate() {
            isUserInteracting = true;
            setTimeout(() => {
                isUserInteracting = false;
            }, 5000);
        }

        function initCarousels() {
            Object.keys(carousels).forEach(carouselId => {
                updateCarousel(carouselId);
                createDots(carouselId);
            });
        }

        function updateCarousel(carouselId) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const currentIndex = carousels[carouselId].currentIndex;
            const total = slides.length;

            // Always close mobile captions when updating positions (mobile consistency)
            closeMobileCaptions();
            
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'left', 'right', 'hidden');
                
                if (index === currentIndex) {
                    slide.classList.add('active');
                } else if (index === (currentIndex - 1 + total) % total) {
                    slide.classList.add('left');
                } else if (index === (currentIndex + 1) % total) {
                    slide.classList.add('right');
                } else {
                    slide.classList.add('hidden');
                }
            });
            
            updateDots(carouselId);
        }

        function createDots(carouselId) {
            const dotsContainer = document.getElementById(carouselId.replace('Carousel', 'Dots'));
            if (!dotsContainer) return;
            
            dotsContainer.innerHTML = '';
            const total = carousels[carouselId].totalSlides;
            
            for (let i = 0; i < total; i++) {
                const dot = document.createElement('div');
                dot.classList.add('carousel-dot');
                if (i === 0) dot.classList.add('active');
                dot.onclick = () => goToSlide(carouselId, i);
                dotsContainer.appendChild(dot);
            }
        }

        function updateDots(carouselId) {
            const dotsContainer = document.getElementById(carouselId.replace('Carousel', 'Dots'));
            if (!dotsContainer) return;
            
            const dots = dotsContainer.querySelectorAll('.carousel-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === carousels[carouselId].currentIndex);
            });
        }

        function nextSlide(carouselId) {
            pauseAutoRotate();
            const total = carousels[carouselId].totalSlides;
            carousels[carouselId].currentIndex = (carousels[carouselId].currentIndex + 1) % total;
            closeMobileCaptions();
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        function prevSlide(carouselId) {
            pauseAutoRotate();
            const total = carousels[carouselId].totalSlides;
            carousels[carouselId].currentIndex = (carousels[carouselId].currentIndex - 1 + total) % total;
            closeMobileCaptions();
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        function goToSlide(carouselId, index) {
            pauseAutoRotate();
            carousels[carouselId].currentIndex = index;
            closeMobileCaptions();
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        // ========================================
        // TOUCH SWIPE FUNCTIONALITY
        // ========================================
        
        const swipeState = {};

        function initSwipeHandlers(carouselId) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;

            let touchStartX = 0;
            let touchStartY = 0;
            let isSwiping = false;

            carousel.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
                isSwiping = true;
                pauseAutoRotate();
            }, { passive: true });

            carousel.addEventListener('touchmove', (e) => {
                // Allow page scroll if user is scrolling vertically
                const deltaX = Math.abs(e.touches[0].clientX - touchStartX);
                const deltaY = Math.abs(e.touches[0].clientY - touchStartY);
                
                if (deltaY > deltaX) {
                    isSwiping = false;
                }
            }, { passive: true });

            carousel.addEventListener('touchend', (e) => {
                if (!isSwiping) return;
                
                const touchEndX = e.changedTouches[0].clientX;
                const swipeDistance = touchStartX - touchEndX;
                const minSwipeDistance = 50; // minimum pixels to count as swipe

                if (Math.abs(swipeDistance) > minSwipeDistance) {
                    if (swipeDistance > 0) {
                        // Swiped left - go to next slide
                        nextSlide(carouselId);
                    } else {
                        // Swiped right - go to previous slide
                        prevSlide(carouselId);
                    }
                }
                
                isSwiping = false;
                scheduleNextAutoRotate(carouselId);
            }, { passive: true });
        }

        // Initialize carousel on page load
        document.addEventListener('DOMContentLoaded', () => {
            initCarousels();
            
            // Start auto-rotation
            startAutoRotate('mazeCarousel');
            
            // Initialize swipe handlers for all carousels
            Object.keys(carousels).forEach(carouselId => {
                initSwipeHandlers(carouselId);
            });
            
            // Click on side images to navigate, tap active slide to toggle caption on mobile
            document.querySelectorAll('.carousel-slide').forEach(slide => {
                slide.addEventListener('click', function(e) {
                    if (this.classList.contains('left')) {
                        const carouselId = this.closest('.carousel-container').id;
                        prevSlide(carouselId);
                    } else if (this.classList.contains('right')) {
                        const carouselId = this.closest('.carousel-container').id;
                        nextSlide(carouselId);
                    } else if (this.classList.contains('active') && window.innerWidth <= 768) {
                        // On mobile, toggle caption visibility for active slide
                        e.stopPropagation();
                        this.classList.toggle('mobile-caption-active');
                    }
                });
            });

            // Close caption when clicking outside carousel on mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    const clickedInsideCarousel = e.target.closest('.carousel-container');
                    if (!clickedInsideCarousel) {
                        closeMobileCaptions();
                    }
                }
            });
            
            // Pause auto-rotation when user hovers over carousel
            document.querySelectorAll('.carousel-container').forEach(carousel => {
                carousel.addEventListener('mouseenter', () => {
                    isMouseOverCarousel = true;
                });
                
                carousel.addEventListener('mouseleave', () => {
                    isMouseOverCarousel = false;
                });
            });
            
            // Also pause when hovering over carousel controls
            document.querySelectorAll('.carousel-controls').forEach(controls => {
                controls.addEventListener('mouseenter', () => {
                    isMouseOverCarousel = true;
                });
                
                controls.addEventListener('mouseleave', () => {
                    isMouseOverCarousel = false;
                });
            });
        });

        // Toggle caption expansion
        function toggleCaption(event) {
            event.stopPropagation();
            const caption = event.target.closest('.carousel-caption');
            caption.classList.toggle('expanded');
            
            const btn = event.target;
            if (caption.classList.contains('expanded')) {
                btn.textContent = 'üìï Show Less';
            } else {
                btn.textContent = 'üìñ Read More';
            }
        }

        (function() {
            const mq = window.matchMedia('(max-width: 768px)');
            function initNavSwipe() {
                const nav = document.querySelector('.racing-track-nav');
                if (!nav) return;
                let startX = 0;
                let startY = 0;
                let startTime = 0;
                nav.addEventListener('touchstart', function(e) {
                    const t = e.changedTouches[0];
                    startX = t.clientX;
                    startY = t.clientY;
                    startTime = Date.now();
                }, { passive: true });
                nav.addEventListener('touchend', function(e) {
                    const t = e.changedTouches[0];
                    const dx = t.clientX - startX;
                    const dy = t.clientY - startY;
                    const dt = Date.now() - startTime;
                    if (Math.abs(dx) < 50) return;
                    if (Math.abs(dy) > 30) return;
                    if (dt > 1000) return;
                    const prev = document.querySelector('.track-checkpoint.checkpoint-left');
                    const next = document.querySelector('.track-checkpoint.checkpoint-right');
                    if (dx < 0 && next && next.href) {
                        window.location.href = next.href;
                    } else if (dx > 0 && prev && prev.href) {
                        window.location.href = prev.href;
                    }
                });
            }
            function setup() {
                if (mq.matches) initNavSwipe();
            }
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', setup);
            } else {
                setup();
            }
            if (mq.addEventListener) {
                mq.addEventListener('change', setup);
            } else if (mq.addListener) {
                mq.addListener(setup);
            }
        })();
    </script>

</body>
</html>