<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motorized Maze - Yiqing Zhi</title>
    <link rel="icon" type="image/x-icon" href="Images/favicon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #000000;
            position: relative;
            overflow-x: hidden;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Enhanced Galaxy Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at 15% 25%, rgba(75, 0, 130, 0.5) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 75%, rgba(138, 43, 226, 0.4) 0%, transparent 45%),
                radial-gradient(ellipse at 50% 50%, rgba(25, 25, 112, 0.6) 0%, transparent 70%),
                radial-gradient(ellipse at 70% 30%, rgba(72, 61, 139, 0.3) 0%, transparent 60%),
                linear-gradient(180deg, #000000 0%, #0d0221 30%, #1a0b3d 60%, #2d1b69 100%);
            animation: galaxyRotate 60s linear infinite;
        }

        @keyframes galaxyRotate {
            0% { background-position: 0% 0%, 100% 100%, 50% 50%, 70% 30%, 0% 0%; }
            100% { background-position: 100% 100%, 0% 0%, 60% 40%, 30% 70%, 0% 0%; }
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, 
                rgba(102, 126, 234, 0.3) 0%,
                rgba(118, 75, 162, 0.3) 50%,
                rgba(240, 147, 251, 0.3) 100%);
            z-index: 1000;
            pointer-events: none;
            overflow: visible;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #4facfe 75%,
                #00f2fe 100%);
            background-size: 200% 100%;
            width: 0%;
            transition: width 0.1s ease-out;
            box-shadow: 
                0 0 20px rgba(102, 126, 234, 0.8),
                0 0 40px rgba(118, 75, 162, 0.6);
            animation: progressGlow 3s ease-in-out infinite;
            position: relative;
        }

        .progress-car {
            position: absolute;
            bottom: -12px;
            right: -15px;
            font-size: 2rem;
            filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.9))
                    drop-shadow(0 0 25px rgba(240, 147, 251, 0.7));
            animation: carBounceProgress 0.5s ease-in-out infinite;
            transform-origin: center;
        }

        @keyframes carBounceProgress {
            0%, 100% {
                transform: translateY(0) rotate(-5deg);
            }
            50% {
                transform: translateY(-3px) rotate(5deg);
            }
        }

        @keyframes progressGlow {
            0%, 100% {
                background-position: 0% 50%;
                box-shadow: 
                    0 0 20px rgba(102, 126, 234, 0.8),
                    0 0 40px rgba(118, 75, 162, 0.6);
            }
            50% {
                background-position: 100% 50%;
                box-shadow: 
                    0 0 30px rgba(102, 126, 234, 1),
                    0 0 60px rgba(118, 75, 162, 0.8);
            }
        }

        /* Navigation */
        nav {
            background: linear-gradient(180deg, 
                rgba(10, 14, 35, 0.98) 0%,
                rgba(15, 20, 45, 0.95) 100%);
            backdrop-filter: blur(15px);
            padding: 1rem 2rem;
            box-shadow: 
                0 4px 30px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(102, 126, 234, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(102, 126, 234, 0.4);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            height: 40px;
            width: auto;
            border-radius: 10px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 4px 15px rgba(102, 126, 234, 0.5));
            cursor: pointer;
        }

        .nav-logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 6px 25px rgba(102, 126, 234, 0.8));
        }

        .back-btn {
            padding: 0.7rem 1.8rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border: 2px solid rgba(102, 126, 234, 0.5);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .back-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.5s ease, height 0.5s ease;
        }

        .back-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
            color: white;
        }

        .back-btn span {
            position: relative;
            z-index: 1;
        }

        /* Hero Section with Video */
        .project-hero {
            position: relative;
            height: 65vh;
            min-height: 550px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 4rem;
            border-radius: 0 0 20px 20px;
        }

        /* Hero Image Container */
        .hero-image-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        /* Hero Image with Ken Burns Animation */
        .hero-image-animated {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.4);
            animation: kenBurnsZoom 20s ease-in-out infinite alternate;
            transform-origin: center center;
        }

        /* Ken Burns Zoom & Pan Animation */
        @keyframes kenBurnsZoom {
            0% {
                transform: scale(1) translate(0, 0);
                filter: brightness(0.4);
            }
            100% {
                transform: scale(1.15) translate(-3%, -2%);
                filter: brightness(0.45);
            }
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                rgba(102, 126, 234, 0.3) 0%,
                transparent 50%,
                rgba(118, 75, 162, 0.3) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            max-width: 900px;
            padding: 2rem;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 
                0 0 30px rgba(0, 0, 0, 0.9),
                0 4px 10px rgba(0, 0, 0, 0.8),
                0 0 60px rgba(102, 126, 234, 0.6);
            letter-spacing: 2px;
            font-weight: 700;
        }

        .hero-content .subtitle {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
            line-height: 1.6;
        }

        /* Corner Decorations */
        .carousel-corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 3px solid #667eea;
            z-index: 10;
            pointer-events: none;
        }

        .corner-tl {
            top: 15px;
            left: 15px;
            border-right: none;
            border-bottom: none;
            box-shadow: -2px -2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-tr {
            top: 15px;
            right: 15px;
            border-left: none;
            border-bottom: none;
            box-shadow: 2px -2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-bl {
            bottom: 15px;
            left: 15px;
            border-right: none;
            border-top: none;
            box-shadow: -2px 2px 20px rgba(102, 126, 234, 0.6);
        }

        .corner-br {
            bottom: 15px;
            right: 15px;
            border-left: none;
            border-top: none;
            box-shadow: 2px 2px 20px rgba(102, 126, 234, 0.6);
        }

        /* Side Info Cards */
        .side-info-cards {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 3;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .side-info-cards.left {
            left: 30px;
        }

        .side-info-cards.right {
            right: 30px;
        }

        .info-card {
            background: rgba(10, 14, 35, 0.85);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(102, 126, 234, 0.4);
            border-radius: 15px;
            padding: 1.2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 200px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: all 0.4s ease;
            opacity: 0;
            animation: slideInCard 0.8s ease forwards;
        }

        @keyframes slideInCard {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .side-info-cards.right .info-card {
            animation: slideInCardRight 0.8s ease forwards;
        }

        @keyframes slideInCardRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .info-card:hover {
            transform: translateX(10px);
            border-color: rgba(102, 126, 234, 0.8);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.5);
        }

        .side-info-cards.right .info-card:hover {
            transform: translateX(-10px);
        }

        .info-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.6));
            flex-shrink: 0;
        }

        .info-text h4 {
            color: #667eea;
            font-size: 0.95rem;
            margin: 0 0 0.3rem 0;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .info-text p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.85rem;
            margin: 0;
            font-weight: 600;
        }

        /* Content Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem 4rem;
        }

        .content-section {
            background: rgba(10, 14, 35, 0.95);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.3),
                0 0 60px rgba(102, 126, 234, 0.2);
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #667eea 75%, 
                #764ba2 100%);
            background-size: 300% 300%;
            border-radius: 15px;
            z-index: -1;
            animation: borderGlow 6s linear infinite;
            opacity: 0.3;
        }

        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .section-title {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 2rem;
            text-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-content {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .section-content p {
            margin-bottom: 1.5rem;
        }

        .section-content h3 {
            color: #f093fb;
            font-size: 1.8rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 15px rgba(240, 147, 251, 0.5);
        }

        .section-content ul {
            list-style: none;
            padding-left: 0;
            margin: 1.5rem 0;
        }

        .section-content ul li {
            position: relative;
            padding-left: 2rem;
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.85);
            transition: all 0.3s ease;
        }

        .section-content ul li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: #667eea;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.8);
        }

        .section-content ul li:hover {
            padding-left: 2.5rem;
            color: rgba(255, 255, 255, 1);
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: rgba(102, 126, 234, 0.1);
            backdrop-filter: blur(10px);
            padding: 2.5rem;
            border-radius: 15px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            transition: all 0.4s ease;
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: rgba(102, 126, 234, 0.8);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
            background: rgba(102, 126, 234, 0.15);
        }

        .feature-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: white !important;
            margin: 0 0 1rem 0 !important;
            font-size: 1.3rem !important;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5) !important;
        }

        .feature-card p {
            color: rgba(255, 255, 255, 0.85) !important;
            margin: 0 !important;
            font-size: 0.95rem;
        }

        /* Specifications Table */
        .specs-table {
            width: 100%;
            margin: 2rem 0;
            border-collapse: collapse;
        }

        .specs-table thead tr {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .specs-table th {
            padding: 1.2rem;
            text-align: left;
            color: white;
            font-weight: 600;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .specs-table td {
            padding: 1rem;
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .specs-table tbody tr {
            transition: all 0.3s ease;
        }

        .specs-table tbody tr:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.01);
        }

        /* ========================================
        3D ROTATING CAROUSEL GALLERY
        ======================================== */

        .carousel-container {
            position: relative;
            width: 100%;
            height: 600px;
            margin: 3rem 0;
            perspective: 2000px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-track {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-slide {
            position: absolute;
            width: 500px;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            border: 3px solid rgba(102, 126, 234, 0.5);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            background: rgba(10, 14, 35, 0.9);
        }

        /* Center slide - active */
        .carousel-slide.active {
            z-index: 10;
            transform: translateX(0) scale(1) rotateY(0deg);
            opacity: 1;
            filter: brightness(1) blur(0);
            border-color: rgba(102, 126, 234, 1);
            box-shadow: 
                0 30px 80px rgba(102, 126, 234, 0.6),
                0 0 60px rgba(102, 126, 234, 0.4);
        }

        /* Left slide - behind */
        .carousel-slide.left {
            z-index: 5;
            transform: translateX(-65%) scale(0.75) rotateY(25deg);
            opacity: 0.4;
            filter: brightness(0.6) blur(3px);
        }

        /* Right slide - behind */
        .carousel-slide.right {
            z-index: 5;
            transform: translateX(65%) scale(0.75) rotateY(-25deg);
            opacity: 0.4;
            filter: brightness(0.6) blur(3px);
        }

        /* Hidden slides */
        .carousel-slide.hidden {
            z-index: 1;
            transform: translateX(0) scale(0.5);
            opacity: 0;
            pointer-events: none;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .carousel-slide.active img {
            object-fit: cover;
        }

        .carousel-slide:hover.active img {
            transform: scale(1.05);
        }

        /* Caption - only show on active slide */
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem;
            background: linear-gradient(to top,
                rgba(10, 14, 35, 0.98) 0%,
                rgba(10, 14, 35, 0.95) 70%,
                transparent 100%);
            backdrop-filter: blur(10px);
            color: white;
            transform: translateY(100%);
            transition: transform 0.5s ease;
            z-index: 20;
        }

        .carousel-slide.active:hover .carousel-caption {
            transform: translateY(0);
        }

        .carousel-caption h4 {
            font-size: 1.3rem;
            color: #667eea;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.8);
        }

        .carousel-caption p {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            margin: 0;
        }

        .carousel-caption .short-desc {
            display: block;
        }

        .carousel-caption .long-desc {
            display: none;
        }

        .carousel-caption.expanded .short-desc {
            display: none;
        }

        .carousel-caption.expanded .long-desc {
            display: block;
        }

        .caption-expand-btn {
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.3rem 0.8rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .caption-expand-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.6);
        }

        .carousel-caption.expanded .caption-expand-btn {
            background: linear-gradient(135deg, #f093fb 0%, #667eea 100%);
        }

        /* Carousel Controls */
        .carousel-controls {
            position: absolute;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 2rem;
            z-index: 15;
        }

        .carousel-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        .carousel-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.8);
        }

        .carousel-btn:active {
            transform: scale(0.95);
        }

        .carousel-dots {
            display: flex;
            gap: 0.8rem;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(102, 126, 234, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.9);
            transform: scale(1.3);
        }

        .carousel-dot:hover {
            background: rgba(102, 126, 234, 0.6);
            transform: scale(1.2);
        }

        .carousel-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 25;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        /* Mobile Responsive Carousel */
        @media (max-width: 768px) {
            .carousel-container {
                height: 450px;
            }
            
            .carousel-slide {
                width: 320px;
                height: 280px;
            }
            
            .carousel-slide.left,
            .carousel-slide.right {
                transform: translateX(0) scale(0.6);
                opacity: 0.2;
                filter: brightness(0.4) blur(5px);
            }
            
            .carousel-slide.left {
                transform: translateX(-85%) scale(0.6);
            }
            
            .carousel-slide.right {
                transform: translateX(85%) scale(0.6);
            }
            
            .carousel-controls {
                bottom: -70px;
            }
            
            .carousel-btn {
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
            }
        }

        /* ========================================
        ENGINEERING JOURNEY TIMELINE DESIGN
        ======================================== */

        .journey-timeline {
            position: relative;
            padding: 2rem 0;
            margin: 2rem 0;
        }

        /* Vertical connecting line */
        .journey-timeline::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg,
                rgba(102, 126, 234, 0.3) 0%,
                rgba(102, 126, 234, 0.8) 50%,
                rgba(102, 126, 234, 0.3) 100%);
            border-radius: 2px;
        }

        .journey-phase {
            display: flex;
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
            align-items: flex-start;
        }

        .journey-phase:last-child {
            margin-bottom: 0;
        }

        /* Phase Marker (Number + Icon) */
        .phase-marker {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .phase-number {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            border: none; 
            box-shadow: 
                0 8px 32px rgba(102, 126, 234, 0.6),
                inset 0 2px 8px rgba(255, 255, 255, 0.2);
            transition: all 0.4s ease;
        }

        .phase-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 4px 15px rgba(102, 126, 234, 0.6));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .journey-phase:hover .phase-number {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 
                0 12px 40px rgba(102, 126, 234, 0.8),
                inset 0 2px 8px rgba(255, 255, 255, 0.3);
        }

        /* Phase Content */
        .phase-content {
            flex: 1;
            background: rgba(102, 126, 234, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .phase-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg,
                #667eea 0%,
                #764ba2 50%,
                #f093fb 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .phase-content:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.6);
            transform: translateX(10px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
        }

        .phase-content:hover::before {
            opacity: 1;
        }

        .phase-title {
            font-size: 1.8rem;
            color: #667eea;
            margin: 0 0 1.5rem 0;
            text-shadow: 0 0 15px rgba(102, 126, 234, 0.5);
        }

        /* Skill Tags */
        .phase-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }

        .skill-tag {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.3) 0%, 
                rgba(118, 75, 162, 0.3) 100%);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .skill-tag:hover {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.5) 0%, 
                rgba(118, 75, 162, 0.5) 100%);
            border-color: rgba(102, 126, 234, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Phase Insight */
        .phase-insight {
            background: rgba(240, 147, 251, 0.08);
            border-left: 4px solid #f093fb;
            padding: 1.2rem;
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
        }

        .phase-insight strong {
            color: #f093fb;
            text-shadow: 0 0 10px rgba(240, 147, 251, 0.5);
            font-size: 1.05rem;
        }

        /* Footer */
        footer {
            background: rgba(10, 14, 35, 0.95);
            backdrop-filter: blur(15px);
            border-top: 3px solid rgba(102, 126, 234, 0.4);
            color: white;
            text-align: center;
            padding: 3rem 2rem 2rem;
            margin-top: 1rem;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent 0px,
                    rgba(102, 126, 234, 0.1) 50px,
                    transparent 100px
                );
            animation: roadScroll 20s linear infinite;
            opacity: 0.3;
            pointer-events: none;
        }

        @keyframes roadScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(100px); }
        }

        .racing-track-nav {
            max-width: 1400px;
            margin: 0 auto 3rem;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 3rem;
            align-items: center;
            position: relative;
            padding: 2rem 0;
        }

        .track-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg,
                rgba(102, 126, 234, 0.3) 0%,
                rgba(102, 126, 234, 0.8) 50%,
                rgba(102, 126, 234, 0.3) 100%
            );
            transform: translateY(-50%);
            z-index: 0;
        }

        .track-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: repeating-linear-gradient(
                90deg,
                transparent 0px,
                white 10px,
                white 30px,
                transparent 30px,
                transparent 60px
            );
            transform: translateY(-50%);
            animation: dashMove 2s linear infinite;
        }

        @keyframes dashMove {
            0% { background-position: 0 0; }
            100% { background-position: 60px 0; }
        }

        .track-checkpoint {
            background: linear-gradient(135deg,
                rgba(10, 14, 35, 0.95) 0%,
                rgba(20, 25, 50, 0.95) 100%
            );
            border: 3px solid rgba(102, 126, 234, 0.4);
            border-radius: 20px;
            padding: 1.5rem 2rem;
            text-decoration: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.4s ease;
            position: relative;
            z-index: 2;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(102, 126, 234, 0.2);
        }

        .track-checkpoint::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(102, 126, 234, 0.1) 10px,
                rgba(102, 126, 234, 0.1) 20px
            );
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .track-checkpoint:hover::before {
            opacity: 1;
        }

        .track-checkpoint:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(102, 126, 234, 0.9);
            box-shadow: 
                0 15px 45px rgba(102, 126, 234, 0.4),
                0 0 60px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(102, 126, 234, 0.4);
        }

        .checkpoint-left {
            justify-content: flex-start;
        }

        .checkpoint-right {
            justify-content: flex-end;
        }

        .checkpoint-flag {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
            animation: flagWave 2s ease-in-out infinite;
        }

        @keyframes flagWave {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .speed-arrow {
            font-size: 2.5rem;
            color: #667eea;
            text-shadow: 0 0 20px rgba(102, 126, 234, 0.8);
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .track-checkpoint:hover .speed-arrow {
            color: #f093fb;
            text-shadow: 0 0 30px rgba(240, 147, 251, 0.9);
        }

        .checkpoint-left:hover .speed-arrow {
            transform: translateX(-10px);
        }

        .checkpoint-right:hover .speed-arrow {
            transform: translateX(10px);
        }

        .checkpoint-content {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            text-align: left;
        }

        .checkpoint-right .checkpoint-content {
            text-align: right;
        }

        .checkpoint-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
        }

        .checkpoint-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .pit-stop {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 60px;
            padding: 1.5rem 3rem;
            text-decoration: none;
            color: white;
            font-weight: 700;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.4s ease;
            box-shadow: 
                0 10px 40px rgba(102, 126, 234, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 3;
            white-space: nowrap;
        }

        .pit-stop::before {
            content: '';
            position: absolute;
            inset: -3px;
            background: linear-gradient(45deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #f093fb 50%, 
                #4facfe 75%,
                #667eea 100%);
            background-size: 300% 300%;
            border-radius: 60px;
            z-index: -1;
            animation: borderGlow 3s linear infinite;
            filter: blur(8px);
        }

        .pit-stop:hover {
            transform: translateY(-10px) scale(1.08);
            box-shadow: 
                0 20px 60px rgba(102, 126, 234, 0.8),
                0 0 80px rgba(240, 147, 251, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .pit-stop-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .pit-stop-text {
            font-size: 1.1rem;
            letter-spacing: 2px;
        }

        .pit-stop-lights {
            display: flex;
            gap: 0.4rem;
            margin-top: 0.3rem;
        }

        .light {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            animation: lightBlink 1.5s ease-in-out infinite;
        }

        .light:nth-child(1) {
            animation-delay: 0s;
        }

        .light:nth-child(2) {
            animation-delay: 0.5s;
        }

        .light:nth-child(3) {
            animation-delay: 1s;
        }

        @keyframes lightBlink {
            0%, 100% {
                background: rgba(255, 255, 255, 0.3);
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            }
            50% {
                background: rgba(0, 255, 0, 0.9);
                box-shadow: 0 0 15px rgba(0, 255, 0, 0.9);
            }
        }

        .racing-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin: 0 auto 2rem;
            max-width: 600px;
        }

        .divider-line {
            flex: 1;
            height: 3px;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(102, 126, 234, 0.6) 50%,
                transparent 100%
            );
            position: relative;
        }

        .divider-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: repeating-linear-gradient(
                90deg,
                transparent 0px,
                white 5px,
                white 10px,
                transparent 10px,
                transparent 20px
            );
            transform: translateY(-50%);
        }

        .race-finish {
            font-size: 2rem;
            filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.8));
            animation: trophyGlow 2s ease-in-out infinite;
        }

        @keyframes trophyGlow {
            0%, 100% {
                transform: scale(1) rotate(-5deg);
                filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.8));
            }
            50% {
                transform: scale(1.1) rotate(5deg);
                filter: drop-shadow(0 0 25px rgba(102, 126, 234, 1));
            }
        }

        footer p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #f093fb;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .side-info-cards {
                display: none;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .project-hero {
                height: 400px;
                min-height: 400px;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content .subtitle {
                font-size: 1.1rem;
            }

            .content-section {
                padding: 2rem 1.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .specs-table {
                font-size: 0.9rem;
            }

            .specs-table th,
            .specs-table td {
                padding: 0.8rem;
            }

            .racing-track-nav {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                padding: 1.5rem 0;
            }

            .track-line {
                display: none;
            }

            .track-checkpoint {
                padding: 1.2rem 1.5rem;
                gap: 1rem;
                justify-content: center;
            }

            .checkpoint-left,
            .checkpoint-right {
                justify-content: center;
            }

            .checkpoint-content {
                text-align: center !important;
            }

            .checkpoint-flag {
                font-size: 2rem;
            }

            .speed-arrow {
                font-size: 2rem;
            }

            .checkpoint-title {
                font-size: 1rem;
            }

            .checkpoint-label {
                font-size: 0.7rem;
            }

            .pit-stop {
                order: -1;
                padding: 1.2rem 2rem;
            }

            .pit-stop-icon {
                font-size: 1.5rem;
            }

            .pit-stop-text {
                font-size: 0.95rem;
            }

            .racing-divider {
                gap: 1rem;
            }

            .race-finish {
                font-size: 1.5rem;
            }
            
            .journey-timeline::before {
                left: 30px;
            }
            
            .journey-phase {
                gap: 1.5rem;
            }
            
            .phase-number {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .phase-icon {
                font-size: 2rem;
            }
            
            .phase-content {
                padding: 1.5rem;
            }
            
            .phase-title {
                font-size: 1.4rem;
            }
            
            .skill-tag {
                font-size: 0.8rem;
                padding: 0.4rem 1rem;
            }
        }
    </style>
</head>
<body>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar">
            <div class="progress-car">üß©</div>
        </div>
    </div>

    <!-- Galaxy Background -->
    <div class="animated-bg"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="cursor: pointer;">
                <img src="Images/favicon.ico" alt="Yiqing Zhi Logo" class="nav-logo">
            </div>
            <a href="index.html#projects" class="back-btn">
                <span>‚Üê Back to Portfolio</span>
            </a>
        </div>
    </nav>

    <!-- Hero Section with Video -->
    <section class="project-hero">
        <div class="carousel-corner corner-tl"></div>
        <div class="carousel-corner corner-tr"></div>
        <div class="carousel-corner corner-bl"></div>
        <div class="carousel-corner corner-br"></div>
        
        <!-- Left Side Info Cards -->
        <div class="side-info-cards left">
            <div class="info-card" style="animation-delay: 0.2s;">
                <div class="info-icon">üìè</div>
                <div class="info-text">
                    <h4>Board Size</h4>
                    <p>300mm √ó 300mm</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.4s;">
                <div class="info-icon">üéØ</div>
                <div class="info-text">
                    <h4>Target Age</h4>
                    <p>8-12 years</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.6s;">
                <div class="info-icon">üîÑ</div>
                <div class="info-text">
                    <h4>Revolving Wall</h4>
                    <p>2-4 cycles/sec</p>
                </div>
            </div>
        </div>

        <!-- Right Side Info Cards -->
        <div class="side-info-cards right">
            <div class="info-card" style="animation-delay: 0.3s;">
                <div class="info-icon">‚öôÔ∏è</div>
                <div class="info-text">
                    <h4>Motors</h4>
                    <p>Stepper + DC</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.5s;">
                <div class="info-icon">‚¨ÜÔ∏è‚¨áÔ∏è</div>
                <div class="info-text">
                    <h4>Vertical Walls</h4>
                    <p>0.5-1 cycle/sec</p>
                </div>
            </div>
            <div class="info-card" style="animation-delay: 0.7s;">
                <div class="info-icon">üéµ</div>
                <div class="info-text">
                    <h4>Victory Sound</h4>
                    <p>2-5 dB</p>
                </div>
            </div>
        </div>
        
       <!-- Hero Image with Ken Burns Effect -->
        <div class="hero-image-container">
            <img src="Images/ME100-1.jpeg" 
                alt="Motorized Wooden Maze Complete System" 
                class="hero-image-animated"
                id="hero-image">
        </div>
        
        <!-- Gradient Overlay -->
        <div class="hero-overlay"></div>
        
        <!-- Hero Content -->
        <div class="hero-content">
            <h1>Motorized Wooden Maze</h1>
            <p class="subtitle">A Competitive 2-Player Board Game with Mechanized Moving Walls Inspired by The Maze Runner</p>
        </div>
    </section>

    <!-- Content -->
    <div class="container">
        
        <!-- Project Overview -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üéØ</span>
                Project Overview
            </h2>
            <div class="section-content">
                <p>The Motorized Wooden Maze is a competitive 2-player board game inspired by The Maze Runner series, transforming traditional maze gameplay through mechanically moving walls. Players race their figurines through a wooden labyrinth where obstacles constantly shift position, requiring strategic timing and quick reflexes to reach the center first.</p>
                
                <p>This ME 100 design project integrates mechanical engineering principles with engaging gameplay. The maze features a continuously rotating central wall powered by a stepper motor and two vertically moving wall segments driven by a DC motor with crankshaft-inspired mechanism. Ultrasonic sensors detect when players reach the goal, triggering celebratory sound effects.</p>

                <p>Unlike traditional static mazes or manual tilt-based puzzles, this motorized version automates obstacle movement through Arduino-controlled motors, creating dynamic gameplay that challenges players' dexterity and strategic thinking. The final wooden construction provides durability and smooth figurine movement through precision-cut tracks.</p>
            </div>
        </div>

        <!-- Project Gallery -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üì∏</span>
                Project Gallery
            </h2>
            <div class="section-content">
                <p>Explore the complete design and development process of the Motorized Maze‚Äîfrom initial concept sketches to final working prototype with various maze configurations.</p>
                
                <h3>üéÆ Mechanical Design & Control System</h3>
                <p>Interactive gallery showcasing the mechanical design, servo integration, electronics, and testing phases.</p>
            </div>
            
            <!-- 3D Rotating Carousel -->
            <div class="carousel-container" id="mazeCarousel">
                <div class="carousel-track">
                    <!-- Slide 1: Complete Maze -->
                    <div class="carousel-slide" data-index="0">
                        <span class="carousel-badge">üèÜ Final Build</span>
                        <img src="Images/maze-complete-system.jpg" alt="Complete Motorized Wooden Maze">
                        <div class="carousel-caption">
                            <h4>Complete Motorized Wooden Maze</h4>
                            <p class="short-desc">Fully assembled 2-player board game with motorized rotating and vertical wall mechanisms.</p>
                            <p class="long-desc">The completed 300mm √ó 300mm wooden maze features three primary subsystems working in concert: (1) central revolving wall driven by 28BYJ-48 stepper motor providing continuous rotation at 2-4 cycles/second creating dynamic path blocking, (2) two vertically moving wall segments powered by 9V DC gearmotor through crankshaft-inspired piston mechanism moving at 0.5-1 cycle/second in synchronized series motion, and (3) ultrasonic sensor detection system with active buzzer celebration sound. Players navigate figurines through precision-cut slots racing to reach the protected center goal area first. The plywood construction provides smooth low-friction movement while 3D-printed "bridges" support the stationary goal area above the rotating center wall. All electronics (Arduino Uno, Arduino Mega, motor drivers, sensors) are integrated within the structure with proper insulation and cable management ensuring child-safe operation for the 8-12 year target demographic.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 2: Revolving Wall Mechanism -->
                    <div class="carousel-slide" data-index="1">
                        <span class="carousel-badge">üîÑ Rotating Center</span>
                        <img src="Images/maze-revolving-mechanism.jpg" alt="Stepper Motor Revolving Wall">
                        <div class="carousel-caption">
                            <h4>Revolving Center Wall Mechanism</h4>
                            <p class="short-desc">Stepper motor-driven rotating wall with Arduino speed control.</p>
                            <p class="long-desc">The revolving mechanism represents the primary gameplay challenge‚Äîa continuously rotating wall segment that players must time their movement through. The 28BYJ-48 stepper motor offers precise positioning control impossible with AC or standard DC motors, with 32 steps per revolution in full-step mode and 64:1 gear reduction providing 2048 steps per complete rotation. The Arduino Uno executes programmed code setting motor speed at 4 RPM (programmable between 2-4 cycles/second per specifications), using the ULN2003 motor driver to interface with stepper motor coils. Initial prototypes used AC motors (insufficient speed control) and DC motors (unstable, inconsistent), but stepper motors proved ideal for smooth predictable rotation essential for fair gameplay. The rotating wall is firmly mounted to the stepper motor shaft and enclosed in protective housing preventing player contact with moving mechanical parts. This design ensures consistent challenging obstacle speed throughout extended play sessions without motor wear issues encountered in early DC motor testing.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 3: Vertical Wall Mechanism -->
                    <div class="carousel-slide" data-index="2">
                        <span class="carousel-badge">‚¨ÜÔ∏è‚¨áÔ∏è Piston System</span>
                        <img src="Images/maze-vertical-mechanism.jpg" alt="Crankshaft Vertical Moving Walls">
                        <div class="carousel-caption">
                            <h4>Vertical Moving Wall Mechanism</h4>
                            <p class="short-desc">Crankshaft-inspired piston system driven by DC gearmotor.</p>
                            <p class="long-desc">The vertical movement mechanism employs engineering principles adapted from automotive crankshaft systems to convert rotary motor motion into linear vertical displacement. A 9V DC motor with attached gearbox (modifying speed/torque to match load requirements) drives a rotating platform with two offset connection points. These "piston" points connect via linkages to two separate wall segments, creating alternating up-down motion as the platform rotates‚Äîwhen one wall rises, the other descends. This series configuration provides synchronized motion using only one motor (reducing cost and complexity versus independent motor per wall). The mechanism is supported by cardboard stilts maintaining platform stability while minimizing friction during rotation. Circular cardboard pieces visible in assembly photos show the crankshaft-inspired rotating elements. Initial prototypes experienced piston instability and falling issues, resolved through addition of cardboard support structures that constrain motion without introducing friction. The final wooden construction's rigidity required careful calibration to prevent mechanism binding‚Äîa challenge noted in remaining work. This elegant mechanical solution demonstrates efficient motion conversion appropriate for the target age group's understanding of cause-effect relationships.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 4: Arduino Control System -->
                    <div class="carousel-slide" data-index="3">
                        <span class="carousel-badge">üéõÔ∏è Electronics</span>
                        <img src="Images/maze-arduino-setup.jpg" alt="Arduino and Motor Control Electronics">
                        <div class="carousel-caption">
                            <h4>Arduino Control System & Programming</h4>
                            <p class="short-desc">Dual Arduino setup controlling motors and sensors with custom firmware.</p>
                            <p class="long-desc">The electronics architecture employs two Arduino microcontrollers for distinct functions: Arduino Uno R3 controls the stepper motor driving the revolving center wall through ULN2003 driver, while Arduino Mega 2560 R3 manages ultrasonic sensors and victory buzzer. The Arduino Uno executes programmed code (Arduino IDE) setting stepper motor parameters: 2048 steps per revolution (accounting for 32-step motor with 64:1 gear reduction), pins 8/10/9/11 initialized for motor driver interface, and speed set to 4 RPM in continuous loop. The Arduino Mega processes HC-SR04 ultrasonic sensor inputs by triggering ultrasound waves, measuring return time via pulseIn() function, calculating distance using speed of sound (34 cm/ms divided by 2 for round-trip), and activating the active buzzer when figurines come within 3cm of goal locations. Separate power supplies prevent voltage sag‚Äîmotors use dedicated power while Arduinos use USB/battery logic power with proper insulation. The Fritzing electrical schematics document all connections for reproducibility. This embedded software/electrical integration transforms mechanical motion into intelligent responsive gameplay, demonstrating interdisciplinary engineering appropriate for ME 100 course objectives.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 5: Wooden Construction -->
                    <div class="carousel-slide" data-index="4">
                        <span class="carousel-badge">ü™µ Materials</span>
                        <img src="Images/maze-wood-construction.jpg" alt="Plywood Structure and Tracks">
                        <div class="carousel-caption">
                            <h4>Wooden Structure & Fabrication</h4>
                            <p class="short-desc">Plywood construction with laser-cut precision tracks and sanded finish.</p>
                            <p class="long-desc">The final design transitioned from cardboard prototypes to plywood construction for enhanced durability, aesthetic appeal, and improved gameplay experience. Plywood offers consistent material properties compared to cardboard's tendency to warp, crush, or delaminate under repeated use. All maze walls and tracks were laser-cut ensuring precise slot widths for figurine movement‚Äîconsistency critical for fair competitive gameplay where both players must experience identical friction/resistance. The track surfaces underwent extensive sanding to minimize friction to 0-5N range (per specifications with ¬±3N tolerance), enabling smooth figurine sliding without excessive resistance that would frustrate younger players. The wooden surface provides natural aesthetic appeal appropriate for the 8-12 year target demographic, contrasting with the "toy-like" appearance of cardboard while maintaining cost-effectiveness versus injection-molded plastic alternatives. 3D-printed bridges support the stationary goal area above the rotating center wall, demonstrating hybrid manufacturing approach combining traditional woodworking with additive manufacturing. Cable routing channels and motor mounting platforms were integrated into the wooden structure maintaining clean appearance while ensuring child safety through proper insulation and component enclosure. This material selection successfully balances manufacturing feasibility, safety requirements, durability needs, and cost constraints typical of undergraduate design projects.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>

                    <!-- Slide 6: Ultrasonic Sensors & Victory System -->
                    <div class="carousel-slide" data-index="5">
                        <span class="carousel-badge">üéµ Goal Detection</span>
                        <img src="Images/maze-sensor-system.jpg" alt="Ultrasonic Sensors and Buzzer">
                        <div class="carousel-caption">
                            <h4>Goal Detection & Celebration Sound</h4>
                            <p class="short-desc">HC-SR04 ultrasonic sensors trigger active buzzer for victory feedback.</p>
                            <p class="long-desc">The goal detection system employs HC-SR04 ultrasonic sensors positioned at maze finish locations to automatically detect player victory. These sensors operate by emitting ultrasonic pulses and measuring echo return time, calculating distance via speed of sound (34cm/ms). When a figurine enters within 3cm proximity, the Arduino Mega triggers an active buzzer producing celebration sound at safe 2-5dB volume level (within specified 2-5dB range, ¬±1dB tolerance). This audio feedback provides immediate positive reinforcement enhancing players' sense of accomplishment without excessive noise that could annoy caregivers or violate toy safety standards. Two sensors enable independent detection for 2-player competitive races, clearly signaling which player reached the goal first. The current implementation has identified areas for refinement: buzzer duration extends longer than ideal, and sound continues if figurine remains at finish (requiring logic improvement to trigger only once). Despite these minor issues noted in constraints validation, the system successfully demonstrates sensor integration and provides core victory detection functionality. Future improvements could include adjustable volume control, varied celebration sounds for replay value, and LED visual feedback (planned but not implemented due to time constraints). The ultrasonic sensor choice over alternatives (pressure switches, optical sensors) provides non-contact detection suitable for wooden maze construction without complex track modifications.</p>
                            <div class="caption-expand-btn" onclick="toggleCaption(event)">üìñ Read More</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Carousel Controls -->
            <div class="carousel-controls">
                <button class="carousel-btn" onclick="prevSlide('mazeCarousel')">‚ùÆ</button>
                <div class="carousel-dots" id="mazeDots"></div>
                <button class="carousel-btn" onclick="nextSlide('mazeCarousel')">‚ùØ</button>
            </div>

        </div>

        <!-- My Contributions -->
        <div class="content-section">
            <h2 class="section-title">
                <span>‚ö°</span>
                My Contributions
            </h2>
            <div class="section-content">
                <h3>üîß Mechanical Design & CAD Modeling</h3>
                <ul>
                    <li>Contributed to maze layout design planning track paths, wall placement, and obstacle positioning to create engaging gameplay balancing challenge with achievability for 8-12 year demographic</li>
                    <li>Participated in material selection evaluation comparing cardboard prototyping versus final plywood construction, analyzing tradeoffs in cost, durability, manufacturability, and aesthetic appeal</li>
                    <li>Assisted with dimensional planning ensuring 300mm √ó 300mm board size accommodated motor mechanisms, electronics housing, and player movement space within manufacturing constraints</li>
                    <li>Supported integration of 3D-printed bridge components connecting stationary goal area above rotating center wall, validating structural support under gameplay loading conditions</li>
                </ul>

                <h3>üèóÔ∏è Fabrication & Assembly</h3>
                <ul>
                    <li>Executed laser cutting of plywood maze walls, tracks, and structural components following CAD specifications with precision tolerances ensuring consistent slot widths for figurine movement</li>
                    <li>Performed extensive sanding of track surfaces reducing friction to specified 0-5N range (¬±3N tolerance) through iterative testing with figurines and force measurement</li>
                    <li>Assembled motor mounting structures integrating stepper motor housing for revolving wall and DC motor platform for vertical wall mechanism, ensuring secure attachment preventing vibration-induced loosening</li>
                    <li>Implemented cable management routing wiring through wooden structure maintaining clean appearance while ensuring proper insulation and child-safe operation meeting toy safety standards</li>
                </ul>

                <h3>üíª Electronics & Programming</h3>
                <ul>
                    <li>Wired electrical connections between Arduino Uno, ULN2003 stepper motor driver, and 28BYJ-48 stepper motor following Fritzing schematics, validating continuity and proper pin assignments</li>
                    <li>Configured Arduino Mega circuit integrating two HC-SR04 ultrasonic sensors and active buzzer with appropriate power distribution and signal conditioning</li>
                    <li>Tested and validated Arduino IDE code for stepper motor control verifying 2048 steps per revolution calculation, pin initialization (8, 10, 9, 11), and 4 RPM speed setting produced specified 2-4 cycles/second rotation</li>
                    <li>Debugged ultrasonic sensor firmware troubleshooting distance calculation algorithms (speed of sound 34cm/ms, halving for round-trip), trigger logic (3cm proximity threshold), and buzzer activation timing</li>
                </ul>

                <h3>üî¨ Testing & Validation</h3>
                <ul>
                    <li>Conducted friction testing measuring force required for figurine movement through tracks using spring scales, iterating sanding process until achieving 0-5N specification across all track sections</li>
                    <li>Performed motor speed calibration timing revolving wall rotation cycles and vertical wall movement cycles, adjusting Arduino code and mechanical gearing to meet 2-4 cycles/second and 0.5-1 cycle/second specifications respectively</li>
                    <li>Validated ultrasonic sensor accuracy testing detection range, response time, and false-positive/negative rates across various figurine positions and orientations at goal locations</li>
                    <li>Executed gameplay testing with multiple users from target demographic (8-12 years) gathering feedback on difficulty balance, clarity of rules, movement smoothness, and overall engagement level</li>
                </ul>

                <h3>üìã Documentation & Project Management</h3>
                <ul>
                    <li>Contributed to ME 100 final report documentation including technical drawings, mechanism descriptions, constraints/criteria validation, and remaining challenges assessment</li>
                    <li>Participated in team meetings coordinating task assignments across revolving wall subsystem, vertical wall subsystem, electronics integration, and structural fabrication workstreams</li>
                    <li>Maintained component inventory tracking Arduino boards, motors, sensors, power supplies, hardware fasteners, and material stock ensuring availability for iterative prototyping cycles</li>
                    <li>Assisted with timeline management adapting to challenges including motor selection changes (AC ‚Üí DC ‚Üí stepper), piston instability issues requiring support structure additions, and roof sturdiness concerns addressed through 3D-printed bridges</li>
                </ul>
            </div>
        </div>

        <!-- Design Journey -->
        <div class="content-section">
            <h2 class="section-title">
                <span>üí°</span>
                Design Journey
            </h2>
            
            <div class="section-content">
                <p style="text-align: center; font-size: 1.2rem; margin-bottom: 3rem; color: rgba(255, 255, 255, 0.9);">
                    From mechanical puzzle to precision control system - the evolution of an interactive motorized maze
                </p>
            </div>

            <div class="journey-timeline">

                <!-- Phase 1: Concept & Requirements -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">01</div>
                        <div class="phase-icon">üé¨</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Concept Development & Requirements Definition</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Maze Runner Inspiration</span>
                            <span class="skill-tag">Target Demographics</span>
                            <span class="skill-tag">Constraints & Criteria</span>
                            <span class="skill-tag">Function Prioritization</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> The team drew inspiration from The Maze Runner series to create a competitive 2-player board game where mechanically moving walls create dynamic obstacles unlike traditional static mazes. The target demographic of 8-12 years informed design decisions prioritizing safety (no sharp edges, insulated electronics, safe sound/light levels) while maintaining engaging challenge. Key required functions were prioritized: revolving center wall (primary), vertical moving walls (secondary), goal detection sensors, and celebration sound, with LED lights deprioritized due to time constraints. The constraints table established measurable targets: 0-5N friction for smooth movement, 2-4 cycles/second for revolving wall, 0.5-1 cycle/second for vertical walls, 2-5dB sound level, and less than 3Hz flashing lights (safety). This structured requirements definition provided clear success criteria guiding subsequent design decisions.
                        </p>
                    </div>
                </div>

                <!-- Phase 2: Motor Selection & Mechanism Design -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">02</div>
                        <div class="phase-icon">‚öôÔ∏è</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Motor Selection & Mechanism Design</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Motor Evaluation</span>
                            <span class="skill-tag">Stepper vs DC Motors</span>
                            <span class="skill-tag">Crankshaft Mechanics</span>
                            <span class="skill-tag">Arduino Integration</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> Initial revolving wall prototypes using AC motors failed due to insufficient speed control precision, while DC motors proved unstable with inconsistent rotation speeds‚Äîcritical failures for fair competitive gameplay. Switching to 28BYJ-48 stepper motor with ULN2003 driver solved these issues providing 2048 steps per revolution (32-step motor √ó 64:1 gear reduction) enabling precise Arduino-controlled speed. For vertical walls, the team adapted crankshaft principles from automotive engines: a 9V DC gearmotor drives rotating platform with offset connection points, converting rotary motion to linear vertical displacement in two wall segments connected in series. This elegant solution uses one motor for two obstacles, reducing cost/complexity. Early piston mechanism suffered instability (falling off platform), resolved by adding cardboard support structures constraining motion without introducing friction. The motor selection and mechanical design iteration demonstrated engineering problem-solving: recognizing failures, analyzing root causes (lack of control precision, mechanical instability), and implementing targeted solutions.
                        </p>
                    </div>
                </div>

                <!-- Phase 3: Material Transition & Fabrication -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">03</div>
                        <div class="phase-icon">ü™µ</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Material Transition & Fabrication</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Cardboard Prototyping</span>
                            <span class="skill-tag">Plywood Construction</span>
                            <span class="skill-tag">Laser Cutting</span>
                            <span class="skill-tag">Friction Reduction</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> Cardboard prototypes enabled rapid iteration and mechanism testing but exhibited warping, crushing, and inconsistent friction‚Äîunsuitable for final product durability and gameplay fairness. Transitioning to plywood provided dimensional stability, smooth consistent surface finish, and professional aesthetic appealing to 8-12 year target demographic. Laser cutting ensured precision slot widths critical for fair gameplay (both players experience identical resistance). However, wood's rigidity introduced new challenges: the piston mechanism had higher binding/sticking potential compared to flexible cardboard, requiring careful calibration documented as "remaining challenge." Extensive track sanding reduced friction to specified 0-5N range, a labor-intensive but essential step for smooth figurine movement. The roof sturdiness concern (rotating wall torque causing flex/wobble) was addressed through 3D-printed bridge supports connecting stationary goal area above moving center wall‚Äîdemonstrating hybrid manufacturing combining woodworking with additive manufacturing. This material evolution illustrates engineering iteration: prototyping with accessible materials, identifying limitations, and upgrading to production-appropriate materials while managing new constraints introduced.
                        </p>
                    </div>
                </div>

                <!-- Phase 4: Electronics Integration & Programming -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">04</div>
                        <div class="phase-icon">üíª</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Electronics Integration & Arduino Programming</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Arduino IDE</span>
                            <span class="skill-tag">Stepper Motor Control</span>
                            <span class="skill-tag">Ultrasonic Sensors</span>
                            <span class="skill-tag">Circuit Design</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> The dual-Arduino architecture separated motor control (Arduino Uno + stepper motor) from sensor/sound functions (Arduino Mega + ultrasonics + buzzer) enabling parallel development and troubleshooting. Programming the stepper motor required understanding motor specifications: 32 steps per revolution in full-step mode with 64:1 gear reduction yielding 2048 steps per complete rotation. Arduino IDE code initializes pins (8, 10, 9, 11) for ULN2003 driver communication and sets speed to 4 RPM producing specified 2-4 cycles/second rotation. The ultrasonic sensor code demonstrates distance calculation: trigger 10Œºs pulse, measure echo return time with pulseIn(), calculate distance using speed of sound (34cm/ms), divide by 2 for round-trip, activate buzzer when figurine within 3cm. Power management proved critical: separate motor power supply prevents voltage sag affecting Arduino logic, with proper insulation ensuring child safety. The Fritzing electrical schematics document all connections for reproducibility. Two buzzer issues identified during testing (duration too long, continuous sound if figurine remains at finish) represent software refinement opportunities but don't compromise core victory detection functionality demonstrating practical engineering: delivering working solution acknowledging areas for improvement.
                        </p>
                    </div>
                </div>

                <!-- Phase 5: Testing & Validation -->
                <div class="journey-phase">
                    <div class="phase-marker">
                        <div class="phase-number">05</div>
                        <div class="phase-icon">üéÆ</div>
                    </div>
                    <div class="phase-content">
                        <h3 class="phase-title">Testing, Validation & Gameplay Refinement</h3>
                        <div class="phase-skills">
                            <span class="skill-tag">Constraints Verification</span>
                            <span class="skill-tag">User Testing</span>
                            <span class="skill-tag">Safety Validation</span>
                            <span class="skill-tag">Performance Tuning</span>
                        </div>
                        <p class="phase-insight">
                            <strong>üí° Key Insight:</strong> Comprehensive testing validated that most constraints/criteria were met: friction achieved 0-5N specification through iterative sanding, revolving wall maintained consistent 2-4 cycles/second speed via stepper motor precision, vertical walls operated at 0.5-1 cycle/second through DC motor gearbox tuning, and sensors reliably detected figurine arrival triggering celebration sound at safe 2-5dB level. The team successfully demonstrated all primary functions (revolving wall, vertical walls, sensors, sound) with smooth player movement through precision-sanded wooden tracks. However, testing identified areas for improvement: buzzer duration extended beyond ideal length and continued sounding if figurine remained at finish (annoying rather than celebratory)‚Äîrepresenting software logic refinement opportunity. LED lights were not implemented due to time constraints but deemed non-critical since they wouldn't affect core gameplay. User testing with target demographic revealed the "sweet spot" between challenging and achievable: motor speeds fast enough to create tension but slow enough to allow success with practice. Safety validation confirmed no sharp edges (all sanded), proper electrical insulation, and appropriate sound levels. The team documented "remaining challenges" honestly: piston mechanism binding potential in wood (versus flexible cardboard), wire routing/hiding for cleaner appearance, and buzzer logic improvements‚Äîdemonstrating mature engineering: delivering functional product while identifying opportunities for next iteration.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer with F1 Racing Road Guide Navigation -->
    <footer>
        <!-- F1 Racing Track Navigation -->
        <div class="racing-track-nav">
            <!-- Racing Track Line -->
            <div class="track-line"></div>
            
            <!-- Previous Project Checkpoint -->
            <a href="Project-circadian_rhythm_device.html" class="track-checkpoint checkpoint-left">
                <div class="checkpoint-flag">‚è∞</div>
                <div class="checkpoint-content">
                    <span class="checkpoint-label">PREVIOUS PROJECT</span>
                    <span class="checkpoint-title">Circadian Rhythm Regulating Device</span>
                </div>
                <div class="speed-arrow">‚Üê</div>
            </a>
            
            <!-- Pit Stop (All Projects) -->
            <a href="index.html#projects" class="pit-stop">
                <div class="pit-stop-icon">üß©</div>
                <span class="pit-stop-text">ALL PROJECTS</span>
                <div class="pit-stop-lights">
                    <span class="light"></span>
                    <span class="light"></span>
                    <span class="light"></span>
                </div>
            </a>
            
            <!-- Next Project Checkpoint -->
            <a href="Project-ping_ris_wheel.html" class="track-checkpoint checkpoint-right">
                <div class="speed-arrow">‚Üí</div>
                <div class="checkpoint-content">
                    <span class="checkpoint-label">NEXT PROJECT</span>
                    <span class="checkpoint-title">Ping-ris Wheel</span>
                </div>
                <div class="checkpoint-flag">üé°</div>
            </a>
        </div>

        <!-- Racing Divider -->
        <div class="racing-divider">
            <div class="divider-line"></div>
            <span class="race-finish">üß©</span>
            <div class="divider-line"></div>
        </div>

        <!-- Copyright Info -->
        <p style="font-size: 0.95rem; letter-spacing: 1px;">Copyright ¬© 2025 Yiqing Zhi</p>
    </footer>

    <script>
        // Progress Bar Update on Scroll
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Hero image error handling
        const heroImage = document.getElementById('hero-image');
        if (heroImage) {
            heroImage.addEventListener('error', function() {
                console.log('Hero image failed to load');
                // Fallback to a solid background
                this.closest('.hero-image-container').style.background = 
                    'linear-gradient(135deg, rgba(102, 126, 234, 0.4) 0%, rgba(118, 75, 162, 0.4) 100%)';
                this.style.display = 'none';
            });
        }

        // Add fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeIn 0.6s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });

        // ========================================
        // 3D CAROUSEL SYSTEM
        // ========================================
        
        const carousels = {
            mazeCarousel: { currentIndex: 0, totalSlides: 6 },
        };

        // AUTO-ROTATION SETTINGS
        let autoRotateTimer = null;
        const AUTO_ROTATE_DELAY = 5000;
        let isUserInteracting = false;
        let isMouseOverCarousel = false;

        function scheduleNextAutoRotate(carouselId) {
            if (autoRotateTimer) {
                clearTimeout(autoRotateTimer);
                autoRotateTimer = null;
            }

            autoRotateTimer = setTimeout(() => {
                if (!isUserInteracting && !isMouseOverCarousel) {
                    nextSlide(carouselId);
                }
                scheduleNextAutoRotate(carouselId);
            }, AUTO_ROTATE_DELAY);
        }

        function startAutoRotate(carouselId) {
            stopAutoRotate();
            scheduleNextAutoRotate(carouselId);
        }

        function stopAutoRotate() {
            if (autoRotateTimer) {
                clearTimeout(autoRotateTimer);
                autoRotateTimer = null;
            }
        }

        function pauseAutoRotate() {
            isUserInteracting = true;
            setTimeout(() => {
                isUserInteracting = false;
            }, 5000);
        }

        function initCarousels() {
            Object.keys(carousels).forEach(carouselId => {
                updateCarousel(carouselId);
                createDots(carouselId);
            });
        }

        function updateCarousel(carouselId) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const currentIndex = carousels[carouselId].currentIndex;
            const total = slides.length;
            
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'left', 'right', 'hidden');
                
                if (index === currentIndex) {
                    slide.classList.add('active');
                } else if (index === (currentIndex - 1 + total) % total) {
                    slide.classList.add('left');
                } else if (index === (currentIndex + 1) % total) {
                    slide.classList.add('right');
                } else {
                    slide.classList.add('hidden');
                }
            });
            
            updateDots(carouselId);
        }

        function createDots(carouselId) {
            const dotsContainer = document.getElementById(carouselId.replace('Carousel', 'Dots'));
            if (!dotsContainer) return;
            
            dotsContainer.innerHTML = '';
            const total = carousels[carouselId].totalSlides;
            
            for (let i = 0; i < total; i++) {
                const dot = document.createElement('div');
                dot.classList.add('carousel-dot');
                if (i === 0) dot.classList.add('active');
                dot.onclick = () => goToSlide(carouselId, i);
                dotsContainer.appendChild(dot);
            }
        }

        function updateDots(carouselId) {
            const dotsContainer = document.getElementById(carouselId.replace('Carousel', 'Dots'));
            if (!dotsContainer) return;
            
            const dots = dotsContainer.querySelectorAll('.carousel-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === carousels[carouselId].currentIndex);
            });
        }

        function nextSlide(carouselId) {
            pauseAutoRotate();
            const total = carousels[carouselId].totalSlides;
            carousels[carouselId].currentIndex = (carousels[carouselId].currentIndex + 1) % total;
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        function prevSlide(carouselId) {
            pauseAutoRotate();
            const total = carousels[carouselId].totalSlides;
            carousels[carouselId].currentIndex = (carousels[carouselId].currentIndex - 1 + total) % total;
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        function goToSlide(carouselId, index) {
            pauseAutoRotate();
            carousels[carouselId].currentIndex = index;
            updateCarousel(carouselId);
            scheduleNextAutoRotate(carouselId); 
        }

        // Initialize carousel on page load
        document.addEventListener('DOMContentLoaded', () => {
            initCarousels();
            
            // Start auto-rotation
            startAutoRotate('mazeCarousel');
            
            // Click on side images to navigate
            document.querySelectorAll('.carousel-slide').forEach(slide => {
                slide.addEventListener('click', function() {
                    if (this.classList.contains('left')) {
                        const carouselId = this.closest('.carousel-container').id;
                        prevSlide(carouselId);
                    } else if (this.classList.contains('right')) {
                        const carouselId = this.closest('.carousel-container').id;
                        nextSlide(carouselId);
                    }
                });
            });
            
            // Pause auto-rotation when user hovers over carousel
            document.querySelectorAll('.carousel-container').forEach(carousel => {
                carousel.addEventListener('mouseenter', () => {
                    isMouseOverCarousel = true;
                });
                
                carousel.addEventListener('mouseleave', () => {
                    isMouseOverCarousel = false;
                });
            });
            
            // Also pause when hovering over carousel controls
            document.querySelectorAll('.carousel-controls').forEach(controls => {
                controls.addEventListener('mouseenter', () => {
                    isMouseOverCarousel = true;
                });
                
                controls.addEventListener('mouseleave', () => {
                    isMouseOverCarousel = false;
                });
            });
        });

        // Toggle caption expansion
        function toggleCaption(event) {
            event.stopPropagation();
            const caption = event.target.closest('.carousel-caption');
            caption.classList.toggle('expanded');
            
            const btn = event.target;
            if (caption.classList.contains('expanded')) {
                btn.textContent = 'üìï Show Less';
            } else {
                btn.textContent = 'üìñ Read More';
            }
        }
    </script>

</body>
</html>